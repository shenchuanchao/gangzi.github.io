<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>码农观测站</title>
  
  <subtitle>欢迎进入码农观测站，分享编程学习的乐趣</subtitle>
  <link href="https://www.codeobservatory.cn/atom.xml" rel="self"/>
  
  <link href="https://www.codeobservatory.cn/"/>
  <updated>2025-06-07T02:55:15.925Z</updated>
  <id>https://www.codeobservatory.cn/</id>
  
  <author>
    <name>码农刚子</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>五年深漂画了个圆：从龙岗出租屋出发，又回到龙岗出租屋</title>
    <link href="https://www.codeobservatory.cn/archives/240abd01.html"/>
    <id>https://www.codeobservatory.cn/archives/240abd01.html</id>
    <published>2025-06-06T01:48:28.000Z</published>
    <updated>2025-06-07T02:55:15.925Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>五年了，整整五年！我回来了，竟又站在当初的起点上。</p></blockquote><p><img src="https://images.codeobservatory.cn/hexo/202506/06/4d086e061d950a7b92cec7d3eb2f96d6f3d3c939.jpeg" alt="沈川超海边照"><br><strong>2020年6月</strong>： 疫情初起的夏天，世界被按下了暂停键，我和女友却带着一股子懵懂的热气，踏进了深圳龙岗坪地。她一头扎进运营推广的工作里，我休整几天后，三份简历投向罗湖、水贝、龙华——最终，龙华一家网络科技公司向我招手，<code>一份敲敲打打的软件开发差事就此落定</code>。为了省却初来乍到的通勤奔波，我暂且寄居在民乐朋友家的屋檐下。</p><p><strong>2020年9月</strong>： 我们搬到了丹竹头沙岭小区，开始了早出晚归的日子，日日被公交车吞没又吐出。日子在疫情下的不安与奔忙中悄然流过。</p><p><strong>2021年底</strong>： 在疫情的余波中，<code>我们终于领了证，成为了法定意义上的夫妻。</code>只是那场期盼已久的婚礼，终究被疫情的阴影笼罩，办得仓促又带着几分未能圆满的小遗憾，成了心头一个淡淡的印记。</p><p><img src="https://images.codeobservatory.cn/hexo/202506/06/29381f30e924b899604731778cf8e99a0b7bf611.webp" alt="沈川超妻子合照"><br><strong>2022年中</strong>： 生活继续向前滚动。妻子怀孕了，在她身怀六甲、即将显怀的五个月时，为了让她能更安稳地待产，我将她送回了老家休养。彼时，我们已搬离丹竹头，住过短暂的大破头村，又挤在黄金坑小区朋友的单间里。通勤的路途却越来越像一条漫长的绳索，勒得人疲惫不堪，每日往返龙华耗费太多精力。</p><p><strong>2023年春节</strong>： <code>这个春节，意义非凡。我早早请好了假，回到老家，寸步不离地守在妻子身边。当喜庆的鞭炮声响彻夜空时，我们的第一个小宝贝在期待与守护中呱呱坠地。</code> 新生命的嘹亮啼哭，与窗外辞旧迎新的喧闹交织在一起，冲散了疫情残留的最后一丝阴霾。这一次，我没有错过。我紧握着妻子的手，亲眼见证了这个小生命的降临，那份初为人父的震颤与无与伦比的喜悦，沉甸甸地填满了整个产房。 这份全程的陪伴，让这个春节拥有了抵御一切艰辛的温暖底色。孩子满月后： 在老家悉心照料妻儿，看着小家伙一天天变得红润饱满。直到孩子稳稳当当地过了满月，一切安顿妥当，我才怀着万般不舍，告别父母妻儿，独自返回深圳复职。 离别时，妻子怀中安睡的小脸和我转身时她微红的眼眶，成了心底最柔软的牵挂。我回到了黄金坑的朋友单间，继续着往返龙华的漫长通勤，但心中多了一份沉甸甸的甜蜜负担。</p><p><strong>2024年6月</strong>： 恰巧朋友也谈了女朋友，本就局促的单间空间更显紧张。通勤的疲惫与居住的不便交织，我最终决定独自一人，从黄金坑搬到了龙华公司附近居住。这仿佛是一次割舍，只为在日复一日的路途上省下一点喘息的时间。只是这份独居，也意味着与远在老家的妻儿空间上的距离更显遥远，那间小小的出租屋，有时安静得能听见自己的心跳，思念无声却沉重。此后近一年，我便独自住在公司附近，每日往返于住所与办公室之间，两点一线。</p><p><strong>2025年4月</strong>： 对那份难以企及的待遇，积蓄已久的念头终于落地，我松开了手选择离职。没有太多犹豫，我直接回到了久别的老家。这一次，是真正地陪伴——陪伴日渐年迈的父母，也带着妻儿回了一趟她遥远的娘家，用心弥补着那些因奔波而错过的时光。身心在故土炊烟的温暖和孩子的咿呀学语声中渐渐熨帖舒展。</p><p><strong>2025年5月底</strong>： 未曾想，生活的河流在看似平静的故土岸边又陡然转折。五月底，手机响起，一家PCB制造公司的老板亲自打来电话，力邀我前往深圳负责系统研发的技术支持。一个重新出发的机会摆在眼前。</p><p><strong>2025年6月初</strong>： 权衡之后，我拖家带口，再次汇入了深圳奔涌不息的潮水中。</p><p><strong>此刻（2025年6月）</strong>： 重新寻找安身之所，脚步不由自主地在龙岗旧地徘徊。目光掠过那些街道与楼宇，一种模糊却强烈的熟悉感悄然缠绕上来。直到在某个小区门口站定，环顾四周，心猛地一跳——这不正是五年前，2020年那个夏天，我们初来深圳落脚的那个地方吗？同一个院落，同一方天空下的屋檐，在流转的时光里静默地伫立着，仿佛一个轮回的终点与起点在此刻重合。我抬头望见楼宇依旧，却不知哪一扇窗后，曾住着五年前那两个揣着忐忑与无限憧憬的年轻人。时光的痕迹已无声地刻在每一寸熟悉的砖石上。我站在这里，五年的颠簸与辗转如潮水般在心头翻涌：<em><strong>从挤在丹竹头公交里披星戴月的青涩，到黄金坑单间中拥挤与思念交织的岁月；从疫情阴影下仓促婚礼的淡淡遗憾，到2023年春节老家产房里，紧握妻子手时那份滚烫的激动与守护新生命降生的圆满；从2024年独自搬到龙华公司附近那安静得能听见心跳的独居时光，再到今日带着妻儿重返这最初的落脚点。这小小的出租屋群落，仿佛成了命运的锚点，任凭我如舟船般在生活的潮汐中起伏漂泊——求职、成家、守护、分离、团聚、离职、再出发——最终竟又被无形的绳索牵引着，绕回了出发的岸边。五年光阴，在这座永不停歇的城市里，是出租屋门牌的一次次更换，是地铁车厢里一张张疲惫面孔的无声交替，更是我从一个懵懂青年，一步步蜕变为丈夫、父亲的生命印记。</strong></em></p><p>夕阳把我们的身影和楼影一同拉得很长。这片五年前初来乍到、充满未知与迷茫的土地，如今却成了我携家带口重新扬帆的起点。我驻足于熟悉的小区门口，望着前方延伸的道路——它依然带着些许陌生，却又从骨子里透出难以言喻的熟悉气息。暮色温柔沉降，五年前那对年轻情侣背着行囊的身影，在记忆的深处无声浮动，他们眼中初生牛犊的莽撞光芒，与此刻我肩头沉甸甸的责任、身边妻儿的温暖依偎，以及脑海中永远定格的、在老家产房迎接新生命时那束明亮的灯光，在时光的滤镜下悄然重叠。我深吸一口这南方六月湿润而熟悉的空气，更紧地握住了家人的手，迈开脚步，坚定地向前走去：<span style="color: red;">路，依然在脚下延伸，而我们的故事，也依然在深圳这片热土上，继续被一步一个脚印地丈量着。</span></p>]]></content>
    
    
    <summary type="html">这篇文章讲述了作者五年深漂生活的完整历程，从2020年疫情初期与女友来到深圳龙岗坪地开始，经历了多次搬家、工作变动、结婚生子等人生大事，最终在2025年又回到最初落脚的龙岗出租屋，形成一个完整的轮回。文章详细描述了作者在深圳的奋斗与生活，包括疫情下的工作、婚礼的遗憾、妻儿回老家的思念、初为人父的喜悦、独自在深圳打拼的孤独，以及最终选择回归家庭的决定，展现了五年间从青涩青年到丈夫、父亲的成长与蜕变，以及在深圳这座城市的拼搏与坚守。</summary>
    
    
    
    <category term="生活随笔" scheme="https://www.codeobservatory.cn/categories/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="随笔" scheme="https://www.codeobservatory.cn/tags/%E9%9A%8F%E7%AC%94/"/>
    
    <category term="深圳" scheme="https://www.codeobservatory.cn/tags/%E6%B7%B1%E5%9C%B3/"/>
    
    <category term="心路历程" scheme="https://www.codeobservatory.cn/tags/%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>如何给Hexo-butterfly主题博客在复制时添加版权声明</title>
    <link href="https://www.codeobservatory.cn/archives/321b85ec.html"/>
    <id>https://www.codeobservatory.cn/archives/321b85ec.html</id>
    <published>2025-06-03T09:00:40.000Z</published>
    <updated>2025-06-05T06:40:12.311Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>文章被盗，被爬取，内容被cv，你是否很苦恼？<br>被复制时，自动给文章内容添加原文信息。🤣</p><h1 id="1、确认需要版权声明的位置"><a href="#1、确认需要版权声明的位置" class="headerlink" title="1、确认需要版权声明的位置"></a>1、确认需要版权声明的位置</h1><p>通常情况下都是在拷贝博客详情内容时才给拷贝的内容添加版权信息，如果不管拷贝哪里的内容都给添加版权声明，影响用户体验。所以第一步确定博文详细内容在哪个标签中。这里我用的butterfly(蝴蝶)主题，他的文章主体内容在<div id="article-container">标签中<br><img src="https://images.codeobservatory.cn/hexo/202506/03/20250603173739.png" alt="文章主体内容标签"></div></p><h1 id="2、编写版权声明的js"><a href="#2、编写版权声明的js" class="headerlink" title="2、编写版权声明的js"></a>2、编写版权声明的js</h1><p>js已写好，直接复制，替换自己的信息即可</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">script.</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">setClipboardText</span>(<span class="params">event</span>) &#123;</span><br><span class="line">          <span class="keyword">let</span> clipboardData = event.<span class="property">clipboardData</span> || <span class="variable language_">window</span>.<span class="property">clipboardData</span>;</span><br><span class="line">          <span class="keyword">if</span> (!clipboardData) &#123; <span class="keyword">return</span>; &#125;</span><br><span class="line">          event.<span class="title function_">preventDefault</span>();</span><br><span class="line">          <span class="keyword">let</span> text = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>();</span><br><span class="line">          <span class="keyword">if</span> (text) &#123;</span><br><span class="line">              event.<span class="title function_">preventDefault</span>();</span><br><span class="line">              <span class="keyword">var</span> copyright = <span class="string">&#x27;\n\n&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n著作权归作者所有。&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n商业转载请联系作者获得授权，非商业转载请注明出处。&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n作者: 码农刚子&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n邮箱: wxscc@foxmail.com&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n原文地址: &#x27;</span> + <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>;</span><br><span class="line">              clipboardData.<span class="title function_">setData</span>(<span class="string">&#x27;text/plain&#x27;</span>, text + copyright);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> contents = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;article-container&quot;</span>);</span><br><span class="line">      <span class="keyword">if</span>(contents)&#123;</span><br><span class="line">        contents.<span class="title function_">addEventListener</span>(<span class="string">&#x27;copy&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">            <span class="title function_">setClipboardText</span>(e);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>&lt;%&#x3D; page.permalink %&gt;: 当前页面链接<br>因为我们只是需要监听博客详情页的复制事件，所以我们可以直接将这段js放在博文详情页末尾。themes&#x2F;butterfly[主题的名字]&#x2F;layout&#x2F;post.pug这个文件是生成博客详情的模板。</p><h1 id="3、启动测试"><a href="#3、启动测试" class="headerlink" title="3、启动测试"></a>3、启动测试</h1><p>执行hexo clean和hexo generate清除通过修改前生成的页面，然后再根据修改后模板生成新的页面。然后执行hexo server启动测试。效果如下图<br><img src="https://images.codeobservatory.cn/hexo/202506/03/20250603175723.png" alt="版权声明截图"></p><h1 id="4、设置文章是否需要添加版权声明"><a href="#4、设置文章是否需要添加版权声明" class="headerlink" title="4、设置文章是否需要添加版权声明"></a>4、设置文章是否需要添加版权声明</h1><p>如果我们是转载其他作者的文章，这种情况下肯定是不能添加自己的版权声明要去掉。</p><ol><li>在文章头部添加一个<code>copyright</code>属性设置为<code>false</code><br><img src="https://images.codeobservatory.cn/hexo/202506/03/20250603174905.png" alt="添加copyright属性"><br>默认没有此属性，也相当于true，所有文章都默认加版权声明，直有copyright为false时不加版权声明</li><li>在刚刚加js代码的地方再加一行</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">+ <span class="keyword">if</span> page.<span class="property">copyright</span> !== <span class="literal">false</span> </span><br><span class="line">    script.</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">setClipboardText</span>(<span class="params">event</span>) &#123;</span><br><span class="line">          <span class="keyword">let</span> clipboardData = event.<span class="property">clipboardData</span> || <span class="variable language_">window</span>.<span class="property">clipboardData</span>;</span><br><span class="line">          <span class="keyword">if</span> (!clipboardData) &#123; <span class="keyword">return</span>; &#125;</span><br><span class="line">          event.<span class="title function_">preventDefault</span>();</span><br><span class="line">          <span class="keyword">let</span> text = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>();</span><br><span class="line">          <span class="keyword">if</span> (text) &#123;</span><br><span class="line">              event.<span class="title function_">preventDefault</span>();</span><br><span class="line">              <span class="keyword">var</span> copyright = <span class="string">&#x27;\n\n&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n著作权归作者所有。&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n商业转载请联系作者获得授权，非商业转载请注明出处。&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n作者: 码农刚子&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n邮箱: wxscc@foxmail.com&#x27;</span></span><br><span class="line">              + <span class="string">&#x27;\n原文地址: &#x27;</span> + <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>;</span><br><span class="line">              clipboardData.<span class="title function_">setData</span>(<span class="string">&#x27;text/plain&#x27;</span>, text + copyright);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> contents = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;article-container&quot;</span>);</span><br><span class="line">      <span class="keyword">if</span>(contents)&#123;</span><br><span class="line">        contents.<span class="title function_">addEventListener</span>(<span class="string">&#x27;copy&#x27;</span>,<span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">            <span class="title function_">setClipboardText</span>(e);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;文章被盗，被爬取，内容被cv，你是否很苦恼？&lt;br&gt;被复制时，自动给文章内容添加原文信息。🤣&lt;/p&gt;
&lt;h1 id=&quot;1、确认需要版权声明</summary>
      
    
    
    
    <category term="博客教程" scheme="https://www.codeobservatory.cn/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="hexo" scheme="https://www.codeobservatory.cn/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://www.codeobservatory.cn/tags/butterfly/"/>
    
    <category term="版权声明" scheme="https://www.codeobservatory.cn/tags/%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E/"/>
    
  </entry>
  
  <entry>
    <title>使用C#实现23种常见的设计模式</title>
    <link href="https://www.codeobservatory.cn/archives/d8d7f62c.html"/>
    <id>https://www.codeobservatory.cn/archives/d8d7f62c.html</id>
    <published>2025-05-29T01:53:50.000Z</published>
    <updated>2025-05-29T02:02:10.422Z</updated>
    
    <content type="html"><![CDATA[<p>设计模式是软件开发人员在设计和实现软件时可以重复使用的解决方案。在C#中实现23种常见的设计模式需要对每种模式的实现细节进行深入理解。这里我会简述一些常见的设计模式，但具体的实现代码可能会比较长，因此我这里只展示每个模式的概述和关键点。</p><p>1、单例模式（Singleton）：确保一个类只有一个实例，并提供一个全局访问点。</p><p>2、工厂模式（Factory）：用于创建对象，将对象的创建与使用分离。</p><p>3、建造者模式（Builder）：通过将一个复杂对象的构建与其表示相分离，使得同样的构建过程可以创建不同的表示。</p><p>4、原型模式（Prototype）：通过复制已有对象来创建新对象。</p><p>5、适配器模式（Adapter）：将一个类的接口转换成客户端所期望的另一个接口，使得原本由于接口不兼容而无法协同工作的类能够一起工作。</p><p>6、桥接模式（Bridge）：将抽象与实现解耦，使它们可以独立变化。</p><p>7、组合模式（Composite）：允许你将对象组合成树形结构来表示“部分-整体”的层次结构，使得客户端以统一的方式处理单个对象以及对象的组合。</p><p>8、装饰器模式（Decorator）：动态地给一个对象添加一些额外的职责，就增加功能来说，装饰器模式相比生成子类更为灵活。</p><p>9、外观模式（Facade）：为子系统中的一组接口提供一个一致的界面，简化子系统的使用。</p><p>10、享元模式（Flyweight）：运用共享技术有效地支持大量细粒度的对象。</p><p>11、观察者模式（Observer）：定义对象之间的一对多依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都会得到通知并被自动更新。</p><p>12、中介者模式（Mediator）：用一个中介对象来封装一系列的对象交互，中介者使各对象不需要显式地相互引用，从而降低耦合度。</p><p>13、代理模式（Proxy）：为其他对象提供一种代理以控制对这个对象的访问。</p><p>14、迭代器模式（Iterator）：提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露该对象的内部表示。</p><p>15、组合模式（Composite）：将对象组合成树形结构以表示“部分-整体”的层次结构，使得客户端以统一的方式处理单个对象以及对象的组合。</p><p>16、状态模式（State）：允许一个对象在其内部状态改变时改变它的行为。</p><p>17、策略模式（Strategy）：定义一系列的算法，将每一个算法封装起来，并且使它们可以相互替换。</p><p>18、模板方法模式（Template Method）：定义一个操作中的算法骨架，将某些步骤延迟到子类中实现。</p><p>19、职责链模式（Chain of Responsibility）：使多个对象都有机会处理请求，从而避免请求的发送者和接收者之间的耦合关系。</p><p>20、备忘录模式（Memento）：在不破坏封装的前提下捕获一个对象的内部状态，并在该对象之外保存这个状态。</p><p>21、解释器模式（Interpreter）：定义一个解释器类，该类解析并执行一种简单的语法结构。</p><p>22、观察者模式（Observer）：定义了对象之间的一对多依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都会得到通知并被自动更新。</p><p>23、访问者模式（Visitor）：将数据操作与数据结构分离，使得同一组操作可以作用于不同的数据结构。</p>]]></content>
    
    
    <summary type="html">设计模式是软件开发人员在设计和实现软件时可以重复使用的解决方案。在C#中实现23种常见的设计模式需要对每种模式的实现细节进行深入理解。这里我会简述一些常见的设计模式，但具体的实现代码可能会比较长，因此我这里只展示每个模式的概述和关键点。</summary>
    
    
    
    <category term="后端开发" scheme="https://www.codeobservatory.cn/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="C#" scheme="https://www.codeobservatory.cn/tags/C/"/>
    
    <category term="设计模式" scheme="https://www.codeobservatory.cn/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>SQL SERVER数据库跨服务器查询</title>
    <link href="https://www.codeobservatory.cn/archives/a1b7d00f.html"/>
    <id>https://www.codeobservatory.cn/archives/a1b7d00f.html</id>
    <published>2025-05-29T01:39:27.000Z</published>
    <updated>2025-05-29T01:48:45.249Z</updated>
    
    <content type="html"><![CDATA[<p>1、执行存储过程 sp_addlinkedserver 以将服务器添加到 sys.servers。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--server72为远程服务器的别名</span></span><br><span class="line"><span class="keyword">exec</span> sp_addlinkedserver <span class="string">&#x27;server72&#x27;</span>, <span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;SQLOLEDB &#x27;</span>, <span class="string">&#x27;远程服务器名或ip地址 &#x27;</span> </span><br><span class="line"><span class="keyword">exec</span> sp_addlinkedsrvlogin <span class="string">&#x27;server72&#x27;</span>, <span class="string">&#x27;false &#x27;</span>,<span class="keyword">null</span>, <span class="string">&#x27;用户名 &#x27;</span>, <span class="string">&#x27;密码 &#x27;</span></span><br></pre></td></tr></table></figure><p>2、跨服务器查询时，需要按照下列格式指定查询表添加的远程服务器别名</p><ul><li>数据库名</li><li>数据库的schema，一般是dbo</li><li>表名称</li><li>查询示例</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> server72.数据库名.dbo.表名</span><br></pre></td></tr></table></figure><p>3、查询服务器中已有的linkserver信息</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SYS.LINKED_LOGINS;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> SYS.SERVERS;</span><br></pre></td></tr></table></figure><p>4、删除已经存在的链接服务器</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IF <span class="keyword">EXISTS</span>(<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sys.servers <span class="keyword">WHERE</span> name <span class="operator">=</span> N<span class="string">&#x27;server72&#x27;</span>)</span><br><span class="line"><span class="keyword">EXEC</span> master.sys.sp_dropserver <span class="string">&#x27;server72&#x27;</span>,<span class="string">&#x27;droplogins&#x27;</span>  </span><br><span class="line">GO</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1、执行存储过程 sp_addlinkedserver 以将服务器添加到 sys.servers。&lt;/p&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;</summary>
      
    
    
    
    <category term="数据库" scheme="https://www.codeobservatory.cn/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="sql" scheme="https://www.codeobservatory.cn/tags/sql/"/>
    
    <category term="数据库" scheme="https://www.codeobservatory.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-butterfly文章顶部添加波浪效果</title>
    <link href="https://www.codeobservatory.cn/archives/2aebdcfd.html"/>
    <id>https://www.codeobservatory.cn/archives/2aebdcfd.html</id>
    <published>2025-05-28T08:44:31.000Z</published>
    <updated>2025-05-28T08:54:59.743Z</updated>
    
    <content type="html"><![CDATA[<h2 id="开始步骤"><a href="#开始步骤" class="headerlink" title="开始步骤"></a>开始步骤</h2><p>修改 themes&#x2F;butterfly&#x2F;layout&#x2F;includes&#x2F;header&#x2F;index.pug 大概第 33 行左右</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if top_img !== false</span><br><span class="line">  if is_post()</span><br><span class="line">    include ./post-info.pug</span><br><span class="line"><span class="addition">+   section.main-hero-waves-area.waves-area</span></span><br><span class="line"><span class="addition">+     svg.waves-svg(xmlns=&#x27;http://www.w3.org/2000/svg&#x27;, xlink=&#x27;http://www.w3.org/1999/xlink&#x27;, viewBox=&#x27;0 24 150 28&#x27;, preserveAspectRatio=&#x27;none&#x27;, shape-rendering=&#x27;auto&#x27;)</span></span><br><span class="line"><span class="addition">+       defs</span></span><br><span class="line"><span class="addition">+         path#gentle-wave(d=&#x27;M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z&#x27;)</span></span><br><span class="line"><span class="addition">+       g.parallax</span></span><br><span class="line"><span class="addition">+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;0&#x27;)</span></span><br><span class="line"><span class="addition">+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;3&#x27;)</span></span><br><span class="line"><span class="addition">+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;5&#x27;)</span></span><br><span class="line"><span class="addition">+         use(href=&#x27;#gentle-wave&#x27;, x=&#x27;48&#x27;, y=&#x27;7&#x27;)</span></span><br><span class="line">    #post-top-cover</span><br><span class="line">      img#post-top-bg(class=&#x27;nolazyload&#x27; src=bg_img)</span><br><span class="line">  else if is_home()</span><br><span class="line">    #site-info</span><br><span class="line">      h1#site-title=site_title</span><br><span class="line">      if theme.subtitle.enable</span><br></pre></td></tr></table></figure><p>为了方便复制，提供一份需要修改的部分:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">section.main-hero-waves-area.waves-area</span><br><span class="line">  svg.waves-svg(xmlns=<span class="string">&#x27;http://www.w3.org/2000/svg&#x27;</span>, xlink=<span class="string">&#x27;http://www.w3.org/1999/xlink&#x27;</span>, viewBox=<span class="string">&#x27;0 24 150 28&#x27;</span>, preserveAspectRatio=<span class="string">&#x27;none&#x27;</span>, shape-rendering=<span class="string">&#x27;auto&#x27;</span>)</span><br><span class="line">    defs</span><br><span class="line">      path#gentle-wave(d=<span class="string">&#x27;M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z&#x27;</span>)</span><br><span class="line">    g.parallax</span><br><span class="line">      use(href=<span class="string">&#x27;#gentle-wave&#x27;</span>, x=<span class="string">&#x27;48&#x27;</span>, y=<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">      use(href=<span class="string">&#x27;#gentle-wave&#x27;</span>, x=<span class="string">&#x27;48&#x27;</span>, y=<span class="string">&#x27;3&#x27;</span>)</span><br><span class="line">      use(href=<span class="string">&#x27;#gentle-wave&#x27;</span>, x=<span class="string">&#x27;48&#x27;</span>, y=<span class="string">&#x27;5&#x27;</span>)</span><br><span class="line">      use(href=<span class="string">&#x27;#gentle-wave&#x27;</span>, x=<span class="string">&#x27;48&#x27;</span>, y=<span class="string">&#x27;7&#x27;</span>)</span><br></pre></td></tr></table></figure><p>然后在_config.butterfly.yml的 [inject.head] 或者自定义 css 中 引入以下 css, 不会的同学参考Hexo 博客添加自定义 css 和 js 文件</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 波浪css */</span></span><br><span class="line"><span class="selector-class">.main-hero-waves-area</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">11px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.waves-area</span> <span class="selector-class">.waves-svg</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Animation */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: move-forever <span class="number">25s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.55</span>, <span class="number">0.5</span>, <span class="number">0.45</span>, <span class="number">0.5</span>) infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">2s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">7s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#f7f9febd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">10s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#f7f9fe82</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">4s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">13s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#f7f9fe36</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">5s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">20s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#f7f9fe</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 黑色模式背景 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">2s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">7s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#18171dc8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">10s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#18171d80</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">4s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">13s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#18171d3e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.parallax</span> &gt; <span class="selector-tag">use</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>) &#123;</span><br><span class="line">  <span class="attribute">animation-delay</span>: -<span class="number">5s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">20s</span>;</span><br><span class="line">  <span class="attribute">fill</span>: <span class="number">#18171d</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> move-forever &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(-<span class="number">90px</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">85px</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*Shrinking for mobile*/</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.waves-area</span> <span class="selector-class">.waves-svg</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">40px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>大功告成，需要注意的是 css 中fill属性可以控制波浪颜色，最好使其中一个颜色与背景颜色一致，否则会显的有点奇怪。</p><blockquote><p>参考：<a href="https://blog.anheyu.com/posts/98c4.html">https://blog.anheyu.com/posts/98c4.html</a></p></blockquote>]]></content>
    
    
    <summary type="html">这篇文章介绍了如何在Hexo博客主题Butterfly的文章顶部添加波浪效果，具体操作包括修改themes/butterfly/layout/includes/header/index.pug文件，在适当位置添加波浪效果的SVG代码，并在_config.butterfly.yml文件中引入相应的CSS样式以实现波浪动画效果，CSS代码控制波浪的宽度、位置、高度以及动画效果，包括不同子元素的动画延迟和持续时间，还提供了黑色模式下的背景颜色调整，最后提醒注意CSS中的fill属性可以控制波浪颜色，建议与背景颜色协调。</summary>
    
    
    
    <category term="博客教程" scheme="https://www.codeobservatory.cn/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="hexo" scheme="https://www.codeobservatory.cn/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://www.codeobservatory.cn/tags/butterfly/"/>
    
    <category term="波浪" scheme="https://www.codeobservatory.cn/tags/%E6%B3%A2%E6%B5%AA/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-butterfly友情链接页面优化</title>
    <link href="https://www.codeobservatory.cn/archives/29606f1.html"/>
    <id>https://www.codeobservatory.cn/archives/29606f1.html</id>
    <published>2025-05-28T07:36:24.000Z</published>
    <updated>2025-06-06T07:58:02.106Z</updated>
    
    <content type="html"><![CDATA[<h2 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h2><blockquote><p><a href="/link/">👉效果和本站友链一样</a></p></blockquote><h2 id="首先生成link页面"><a href="#首先生成link页面" class="headerlink" title="首先生成link页面"></a>首先生成link页面</h2><p>在 Hexo 博客根目录 [Blogroot]下打开终端，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="built_in">link</span></span><br></pre></td></tr></table></figure><p>打开[Blogroot]\source\link\index.md,添加一行type: ‘link’:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2025-05-21 17:32:19</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h2 id="创建数据文件"><a href="#创建数据文件" class="headerlink" title="创建数据文件"></a>创建数据文件</h2><p>新建文件[Blogroot]\source_data\link.yml,没有_data文件夹的话也请自己新建。以下是默认友链格式示例。打开[Blogroot]\source_data\link.yml，输入：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># flink_style: butterfly / flexcard</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">友情链接</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">这里的每个站点，都耐人寻味……</span></span><br><span class="line">  <span class="attr">flink_style:</span> <span class="string">flexcard</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">码农观测站</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.codeobservatory.cn/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://www.codeobservatory.cn/img/butterfly-icon.webp</span></span><br><span class="line">      <span class="attr">siteshot:</span> <span class="string">https://www.codeobservatory.cn/images/shot.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">技术分享，编程学习</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">技术</span></span><br></pre></td></tr></table></figure><h2 id="打开link菜单"><a href="#打开link菜单" class="headerlink" title="打开link菜单"></a>打开link菜单</h2><p>取消[Blogroot]_config.butterfly.yml中menu配置项内link页面的注释（这里我已改成中文【友链】）。</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">文章:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="comment"># List||fas fa-list||hide:     # 移动端隐藏子菜单</span></span><br><span class="line">  <span class="comment">#   Music: /music/ || fas fa-music</span></span><br><span class="line">  <span class="comment">#   Movie: /movies/ || fas fa-video</span></span><br><span class="line">  <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">关于:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><h2 id="替换模板文件"><a href="#替换模板文件" class="headerlink" title="替换模板文件"></a>替换模板文件</h2><p>替换[Blogroot]\themes\butterfly\layout\includes\page\flink.pug</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">.container</span><br><span class="line">  <span class="keyword">if</span> top_img === <span class="literal">false</span></span><br><span class="line">    h1.page-title= page.title</span><br><span class="line">  .flink</span><br><span class="line">    <span class="keyword">if</span> site.data.link</span><br><span class="line">      each i <span class="keyword">in</span> site.data.link</span><br><span class="line">        <span class="keyword">if</span> i.class_name</span><br><span class="line">          h2!= i.class_name</span><br><span class="line">        <span class="keyword">if</span> i.class_desc</span><br><span class="line">          .flink-desc!=i.class_desc        </span><br><span class="line">        <span class="keyword">if</span> i.flink_style === <span class="string">&#x27;flexcard&#x27;</span></span><br><span class="line">          .flexcard-flink-list</span><br><span class="line">            each item <span class="keyword">in</span> i.link_list</span><br><span class="line">              a.flink-list-card(href=url_for(item.link) target=<span class="string">&#x27;_blank&#x27;</span> data-title=item.descr)</span><br><span class="line">                .wrapper.cover</span><br><span class="line">                  <span class="keyword">if</span> item.type</span><br><span class="line">                    .is-type.is-type-0!=item.type</span><br><span class="line">                  - var siteshot = item.siteshot ? url_for(item.siteshot) : <span class="string">&#x27;https://image.thum.io/get/width/400/crop/800/allowJPG/wait/20/noanimate/&#x27;</span> + item.link</span><br><span class="line">                  <span class="keyword">if</span> theme.lazyload.enable</span><br><span class="line">                    img.cover.fadeIn(data-lazy-src=siteshot onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.post_page) + `&#x27;</span>` alt=<span class="string">&#x27;&#x27;</span> )</span><br><span class="line">                  <span class="keyword">else</span></span><br><span class="line">                    img.cover.fadeIn(src=siteshot onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.post_page) + `&#x27;</span>` alt=<span class="string">&#x27;&#x27;</span> )</span><br><span class="line">                .info</span><br><span class="line">                  <span class="keyword">if</span> theme.lazyload.enable</span><br><span class="line">                    img.flink-avatar(data-lazy-src=url_for(item.avatar) onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.flink) + `&#x27;</span>` alt=<span class="string">&#x27;&#x27;</span> )</span><br><span class="line">                  <span class="keyword">else</span></span><br><span class="line">                    img(src=url_for(item.avatar) onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.flink) + `&#x27;</span>` alt=<span class="string">&#x27;&#x27;</span> )</span><br><span class="line">                  span.flink-sitename= item.name</span><br><span class="line">                  span.flink-sitedesc(title=item.descr)= item.descr</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> i.flink_style === <span class="string">&#x27;butterfly&#x27;</span></span><br><span class="line">          .butterfly-flink-list</span><br><span class="line">            each item <span class="keyword">in</span> i.link_list</span><br><span class="line">              .flink-list-item</span><br><span class="line">                a(href=url_for(item.link)  title=item.name target=<span class="string">&quot;_blank&quot;</span>)</span><br><span class="line">                  .flink-item-icon</span><br><span class="line">                    <span class="keyword">if</span> theme.lazyload.enable</span><br><span class="line">                      img(data-lazy-src=url_for(item.avatar) onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.flink) + `&#x27;</span>` alt=item.name )</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                      img(src=url_for(item.avatar) onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.flink) + `&#x27;</span>` alt=item.name )</span><br><span class="line">                  .flink-item-info</span><br><span class="line">                    .flink-item-name= item.name</span><br><span class="line">                    .flink-item-desc(title=item.descr)= item.descr          </span><br><span class="line">    != page.content</span><br></pre></td></tr></table></figure><h2 id="替换样式文件"><a href="#替换样式文件" class="headerlink" title="替换样式文件"></a>替换样式文件</h2><p>替换[Blogroot]\themes\butterfly\source\css_page\flink.styl</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#article-container</span></span><br><span class="line">  <span class="selector-class">.flink</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span></span><br><span class="line">    <span class="selector-class">.flink-desc</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> .<span class="number">6rem</span> <span class="meta">!important</span></span><br><span class="line">    <span class="selector-class">.butterfly-flink-list</span></span><br><span class="line">      <span class="attribute">overflow</span>: auto</span><br><span class="line">      <span class="attribute">text-align</span>: center</span><br><span class="line"></span><br><span class="line">      &amp; &gt; <span class="selector-class">.flink-list-item</span></span><br><span class="line">        <span class="attribute">position</span>: relative</span><br><span class="line">        <span class="attribute">float</span>: left</span><br><span class="line">        <span class="attribute">overflow</span>: hidden</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">7px</span></span><br><span class="line">        <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">3</span> - <span class="number">15px</span>)</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">90px</span></span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">17px</span></span><br><span class="line">        -webkit-<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>)</span><br><span class="line">        <span class="built_in">addBorderRadius</span>(<span class="number">8</span>)</span><br><span class="line">        <span class="attribute">background</span>: <span class="number">#49b1f514</span></span><br><span class="line"></span><br><span class="line">        +<span class="built_in">maxWidth1024</span>()</span><br><span class="line">          <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">15px</span>) <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">        +<span class="built_in">maxWidth600</span>()</span><br><span class="line">          <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">15px</span>) <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="selector-class">.flink-item-icon</span></span><br><span class="line">            <span class="attribute">margin-left</span>: -<span class="number">10px</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">          <span class="attribute">position</span>: absolute</span><br><span class="line">          <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">bottom</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">z-index</span>: -<span class="number">1</span></span><br><span class="line">          <span class="attribute">background</span>: <span class="built_in">var</span>(--text-bg-hover)</span><br><span class="line">          <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">          <span class="attribute">transition</span>: transform .<span class="number">3s</span> ease-out</span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span><span class="selector-pseudo">:before</span>,</span><br><span class="line">        <span class="selector-pseudo">&amp;:focus</span><span class="selector-pseudo">:before</span>,</span><br><span class="line">        <span class="selector-pseudo">&amp;:active</span><span class="selector-pseudo">:before</span></span><br><span class="line">          <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color)</span><br><span class="line">          <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.flink-item-icon</span></span><br><span class="line">            <span class="attribute">float</span>: left</span><br><span class="line">            <span class="attribute">overflow</span>: hidden</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">10px</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">60px</span></span><br><span class="line">            <span class="attribute">height</span>: <span class="number">60px</span></span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">30%</span></span><br><span class="line">            <span class="attribute">transition</span>: width .<span class="number">3s</span> ease-out</span><br><span class="line"></span><br><span class="line">            <span class="selector-tag">img</span></span><br><span class="line">              <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">              <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">              <span class="attribute">transition</span>: filter <span class="number">375ms</span> ease-in .<span class="number">2s</span>, transform .<span class="number">3s</span></span><br><span class="line">              <span class="attribute">object-fit</span>: cover</span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.img-alt</span></span><br><span class="line">            <span class="attribute">display</span>: none</span><br><span class="line">        </span><br><span class="line">        <span class="selector-pseudo">:hover</span> </span><br><span class="line">          <span class="attribute">color</span>: <span class="number">#fff</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.flexcard-flink-list</span></span><br><span class="line">      <span class="attribute">display</span>: flex</span><br><span class="line">      <span class="attribute">flex-wrap</span>: wrap</span><br><span class="line">      <span class="attribute">justify-content</span>: flex-start</span><br><span class="line">      <span class="attribute">margin</span>: -<span class="number">8px</span></span><br><span class="line">      <span class="attribute">align-items</span>: stretch</span><br><span class="line">      &gt; <span class="selector-class">.flink-list-card</span></span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">8px</span></span><br><span class="line">        <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">4</span> - <span class="number">16px</span>)</span><br><span class="line">        <span class="attribute">display</span>: block</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1.4</span></span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">        <span class="attribute">text-decoration</span>:none</span><br><span class="line">        <span class="selector-class">.cover</span></span><br><span class="line">          <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">          <span class="attribute">height</span>: <span class="number">120px</span></span><br><span class="line">          <span class="attribute">overflow</span>: hidden</span><br><span class="line">          <span class="attribute">border-radius</span>: <span class="number">6px</span></span><br><span class="line">          <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>)</span><br><span class="line">          <span class="attribute">background</span>: <span class="number">#f6f6f6</span></span><br><span class="line">          <span class="attribute">position</span>: relative</span><br><span class="line">          <span class="selector-class">.is-type</span></span><br><span class="line">            <span class="attribute">position</span>: absolute</span><br><span class="line">            <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">            <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">            <span class="attribute">color</span>: <span class="number">#fff</span></span><br><span class="line">            <span class="attribute">z-index</span>: <span class="number">10</span></span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">6px</span> <span class="number">0</span> <span class="number">6px</span> <span class="number">0</span></span><br><span class="line">            <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">8px</span></span><br><span class="line">            <span class="attribute">font-size</span>: .<span class="number">6rem</span></span><br><span class="line">            <span class="attribute">background-color</span>: <span class="built_in">var</span>(--btn-bg)</span><br><span class="line">          <span class="selector-tag">img</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">            <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">            <span class="attribute">pointer-events</span>: none</span><br><span class="line">            <span class="attribute">transition</span>: transform <span class="number">2s</span> ease</span><br><span class="line">            <span class="attribute">object-fit</span>: cover </span><br><span class="line">                 </span><br><span class="line">        <span class="selector-class">.info</span></span><br><span class="line">          <span class="attribute">margin-top</span>: <span class="number">8px</span></span><br><span class="line">          <span class="selector-tag">img</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">32px</span></span><br><span class="line">            <span class="attribute">height</span>: <span class="number">32px</span></span><br><span class="line">            <span class="attribute">pointer-events</span>: none</span><br><span class="line">            <span class="attribute">border-radius</span>: <span class="number">16px</span></span><br><span class="line">            <span class="attribute">float</span>: left</span><br><span class="line">            <span class="attribute">margin</span>: <span class="number">0</span> auto .<span class="number">1rem</span> <span class="meta">!important</span></span><br><span class="line">            <span class="attribute">margin-right</span>: <span class="number">8px</span> <span class="meta">!important</span></span><br><span class="line">          <span class="selector-class">.flink-sitename</span></span><br><span class="line">            <span class="attribute">font-weight</span>: <span class="number">600</span></span><br><span class="line">            <span class="attribute">font-size</span>: <span class="built_in">var</span>(--global-font-size)</span><br><span class="line">            <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color)</span><br><span class="line">            <span class="attribute">display</span>: -webkit-box</span><br><span class="line">            -webkit-<span class="attribute">box-orient</span>: vertical</span><br><span class="line">            <span class="attribute">overflow</span>: hidden</span><br><span class="line">            -webkit-line-clamp: <span class="number">1</span></span><br><span class="line">            <span class="attribute">transition</span>: all <span class="number">0.28s</span> ease</span><br><span class="line">            -moz-<span class="attribute">transition</span>: all <span class="number">0.28s</span> ease</span><br><span class="line">            -webkit-<span class="attribute">transition</span>: all <span class="number">0.28s</span> ease</span><br><span class="line">            -o-<span class="attribute">transition</span>: all <span class="number">0.28s</span> ease</span><br><span class="line">          <span class="selector-class">.flink-sitedesc</span></span><br><span class="line">            <span class="attribute">margin-top</span>: <span class="number">4px</span> <span class="meta">!important</span></span><br><span class="line">            <span class="attribute">font-size</span>: <span class="built_in">var</span>(--global-font-size);</span><br><span class="line">            <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">            <span class="attribute">line-height</span>: <span class="number">1.2</span></span><br><span class="line">            <span class="attribute">color</span>: <span class="number">#888</span></span><br><span class="line">            <span class="attribute">display</span>: -webkit-box</span><br><span class="line">            -webkit-<span class="attribute">box-orient</span>: vertical</span><br><span class="line">            <span class="attribute">overflow</span>: hidden</span><br><span class="line">            -webkit-line-clamp: <span class="number">2</span></span><br><span class="line">      <span class="selector-pseudo">:hover</span></span><br><span class="line">        <span class="selector-class">.cover</span>  </span><br><span class="line">          <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">4px</span> <span class="number">8px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>), <span class="number">0</span> <span class="number">4px</span> <span class="number">8px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>), <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> <span class="number">0px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.1</span>)  </span><br><span class="line">        <span class="selector-class">.flink-sitename</span></span><br><span class="line">          <span class="attribute">color</span>: <span class="built_in">var</span>(--tzy-theme) <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.flink-item-name</span></span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.limit-one-line</span></span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">16px</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">height</span>: <span class="number">40px</span></span><br><span class="line">      <span class="attribute">font-weight</span>: bold</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.43em</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.flink-item-desc</span></span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.limit-one-line</span></span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">16px</span> <span class="number">10px</span> <span class="number">16px</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">height</span>: <span class="number">50px</span></span><br><span class="line">      <span class="attribute">font-size</span>: .<span class="number">93em</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.flink-name</span></span><br><span class="line">      <span class="attribute">margin-bottom</span>: <span class="number">5px</span></span><br><span class="line">      <span class="attribute">font-weight</span>: bold</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.5em</span></span><br></pre></td></tr></table></figure><p>这里需要注意的是需要在source&#x2F;_data&#x2F;link.yml添加配置项</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">flink_style:</span> <span class="string">flexcard</span> <span class="string">||</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure><p>该参数可选值flexcard或者butterfly分别对应两种样式。<br>全部保存好之后，一键三连查看效果</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo c; hexo g;hexo s </span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">这篇文章介绍了如何优化Hexo博客中的友情链接页面，特别是使用Hexo-butterfly主题。首先，需要在博客根目录下创建一个新的友情链接页面，并在source/link/index.md文件中添加特定的配置。接着，创建一个数据文件source/_data/link.yml来存储友情链接的信息。然后，在博客的配置文件中启用友情链接菜单。最后，需要替换主题中的模板文件和样式文件，以实现自定义的友情链接页面布局和样式。文章详细列出了每一步的操作步骤和所需的代码示例。</summary>
    
    
    
    <category term="博客教程" scheme="https://www.codeobservatory.cn/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="hexo" scheme="https://www.codeobservatory.cn/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://www.codeobservatory.cn/tags/butterfly/"/>
    
  </entry>
  
  <entry>
    <title>五大方法提高网站排名</title>
    <link href="https://www.codeobservatory.cn/archives/d9f9c7be.html"/>
    <id>https://www.codeobservatory.cn/archives/d9f9c7be.html</id>
    <published>2025-05-27T07:49:14.000Z</published>
    <updated>2025-06-06T08:58:03.754Z</updated>
    
    <content type="html"><![CDATA[<p>很多人问我，而且反复的问我，我的网站排名怎么一直上不去？我的网站排名怎么又掉了？最近百度大更新，我的网站被K了，怎么回事？不同的问题，但是回答的内容大同小异，今天<a href="https://www.codeobservatory.cn/">码农观测站</a>总结了五个方法提高网站排名，希望对你们有帮助。</p><h2 id="一、做好站内优化"><a href="#一、做好站内优化" class="headerlink" title="一、做好站内优化"></a>一、做好站内优化</h2><p>网站上线之前，做好站内优化，站内优化直接影响网站的收录情况。一般上线之后，是不需要再调整站内的布局及结构。但是可以根据网站的搜索引擎的排名情况，分析原因所在，可以适当的调整。一般情况下，影响排名的站内因素有：</p><ol><li>关键词没有定位好。我们要让关键词明确，适当的给关键词加粗，斜体，引起蜘蛛的注意，并且在站内做好锚文本加上指向首页的连接。</li><li>首页权重被内页负累。每个内页都要有关键词做锚文本指向首页，将权重传递给首页，内页做好关联连接即可。另一个增加首页权重的方法，就是次导航。我们将关键词做在次导航，并且至上首页，这样可以很好的提高网站首页的权重。</li><li>百度排名最近一直动荡，南京SEO顾问的排名一直在第二到第七之间不停的变动，一天能上下好几回。有变动，就有提高。搜索引擎的计算方法一直是发展的，也将会更加严谨，科学，合理。黑帽手法一直是被搜索殷勤所打击的，黑猫手法发挥的空间也越来越小。所以在网站内避免使用黑帽排名手法，包括关键词堆砌，隐藏关键词等手法，都是不可取的，这样你的网站很容易被搜索引擎拒绝收录。</li></ol><h2 id="二、做好站内静态页面文章更新"><a href="#二、做好站内静态页面文章更新" class="headerlink" title="二、做好站内静态页面文章更新"></a>二、做好站内静态页面文章更新</h2><p>静态页面一直是搜索引擎比较喜欢的，会加速收录，一般做网站的人都喜欢选择静态页面。做好静态页面的文章更新，最好的方法就是原创，当然伪原创也是有效方法。</p><ol><li>如果是伪原创，在页面的头部插入图片，加上alt标签，这个会让搜索引擎认为是原创的内容，提高文章的收录，有利于排名。</li><li>每个静态页面下均加入次导航，做好关键词锚文本指向首页。</li><li>在更新的文章中间，多次加入网站关键词并且适当加粗，加上链接指向首页。</li></ol><p>做好这三个工作，网站静态页面的更新，就可以轻松完成。</p><h2 id="三、友情链接的交换"><a href="#三、友情链接的交换" class="headerlink" title="三、友情链接的交换"></a>三、友情链接的交换</h2><p>交换友链一直是网站排名优化的工作内容之一，不可缺少。一个高权重的友链不但可以带动你的网站的权重，并且对排名有非常大的帮助，有时甚至会直接冲在首页。可以看出，友链是很重要的一个外链所在。一般在交换友链时，我们需要考虑的因素有：</p><ol><li>查看对方的pr值是否比你低。鉴于交换友链的出发点，不会跟比自己pr低的网站去交换友链的。</li><li>查看对方页面的收录情况。一般情况是找收录量大的网站做友情链接。</li><li>查看对方快照更新情况。看对方是否及时更新，还有最近的收录情况。</li><li>查看对方的外链情况。包括友链和外链，友链一般超过30个，就不要再交换了，因为这样意义不大。查看对方外链的收录量，一般选择外链收录多的网站交换。</li><li>查看对方网站是否被处罚过，如果被处罚过，交换友链就没有必要了，因为对方网站可能被屏蔽状态或者没有好的排名。</li><li>找一些权重比较高的友情链接平台，输入网站关键词和连接，既是一个外链，也可以让别人找到你，增加交换友链的可选择性。最好寻找有相关性的网站交换友链。</li></ol><h2 id="四、原创软文的推广"><a href="#四、原创软文的推广" class="headerlink" title="四、原创软文的推广"></a>四、原创软文的推广</h2><p>原创软文推广，一直是最好的外链推广方式，可以再做好外链的同时，还能增加网站的流量及品牌形象。</p><ol><li>软文的内容范围比较广，不一定要写跟网站相关的内容，只要写出来对别人有帮助，大家感兴趣的，适当的在文中加入网站的连接和关键词就行了。</li><li>将软文放在一些知名度高，基本也是权重比较高的网站上发布，这样带来的人气是很高的，推广的效果比较明显。</li><li>每篇软文的关键词要有所区别，加入的数量不要多，可以在结尾的时候加上一个就行了。</li><li>软文的内容广告性质不要表露出来，链接地址出现一次就行。太明显，可能就不能问世。</li><li>软文最好是每天一两篇，这样做提高网站排名是非常有利的，而且能很快看到效果。</li></ol><h2 id="五、大型论坛和问答平台做外链的方法"><a href="#五、大型论坛和问答平台做外链的方法" class="headerlink" title="五、大型论坛和问答平台做外链的方法"></a>五、大型论坛和问答平台做外链的方法</h2><p>很多人在发帖子，会帖子，或者做问答的时候，都会很郁闷的一件事就是，帖子总是被删掉，或者干脆账号被封掉，问答提交上去，一直审核，然后直接无视。如果不去总结或者学习方法，这种工作会变得枯燥乏味。</p><ol><li>发帖内容要跟论坛的主体是相关的，帖子的内容不一定跟你的网站内容相关，但是要跟论坛的主题相关。</li><li>最好是原创内容，如果不是原创，那么请认真的伪原创。</li><li>发帖内容不要是广告，一般广告贴几乎都会被秒杀过滤掉。</li><li>不要带一些敏感字，有带敏感字的，论坛程序会直接过滤。</li></ol><p>做好以上五点，你会惊喜的发现，你的排名正在默默的往前推进，持续地做好以上五点，你会发现，你的同行正在慢慢的退到你的身后。</p>]]></content>
    
    
    <summary type="html">这篇文章总结了五大方法帮助提升网站排名，包括做好站内优化，确保关键词定位准确并合理设置锚文本和次导航，避免使用黑帽手法；做好站内静态页面文章更新，优先选择原创或高质量的伪原创内容，并合理设置关键词和次导航；交换高权重的友情链接，选择PR值高、收录量大、快照更新及时的网站进行交换；进行原创软文推广，发布在知名度高的网站上，增加网站流量和品牌形象；在大型论坛和问答平台做外链，内容需与论坛主题相关且避免广告和敏感词。持续执行这些方法可有效提升网站排名。</summary>
    
    
    
    <category term="SEO笔记" scheme="https://www.codeobservatory.cn/categories/SEO%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="seo" scheme="https://www.codeobservatory.cn/tags/seo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-butterfly 接入腾讯混元大模型自动生成文章摘要(保姆教程)</title>
    <link href="https://www.codeobservatory.cn/archives/9dd55dbc.html"/>
    <id>https://www.codeobservatory.cn/archives/9dd55dbc.html</id>
    <published>2025-05-26T07:16:28.000Z</published>
    <updated>2025-05-28T07:33:45.679Z</updated>
    
    <content type="html"><![CDATA[<h2 id="注册腾讯云账号"><a href="#注册腾讯云账号" class="headerlink" title="注册腾讯云账号"></a>注册腾讯云账号</h2><ol><li>首先必须要有一个腾讯云的账号，没有的话在官网注册一个，注册完成之后，进行实名操作。</li><li>接下来，在产品中心搜索<code>腾讯混元大模型</code>,点击<code>产品控制台</code>进入，在模型广场选择自己想要的大模型 (复制模型名称，后面会用到)<br><img src="/images/20250526154845.png" alt="腾讯混元大模型"><br><img src="/images/20250526154906.png" alt="腾讯混元大模型"></li><li><strong>创建API KEY</strong>:模型广场–系统管理–接入管理–创建API KEY (复制API KEY，后面会用到)</li></ol><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><p>该插件是插件基于<a href="https://github.com/rootlexme/hexo-ai-excerpt">hexo-ai-excerpt</a>插件开发而来，原插件已经归档，由其他大佬复刻了新的，地址如下：<a href="https://github.com/willow-god/hexo-ai-summary">hexo-ai-summary-liushen</a></p><p>复制下方命令运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-ai-summary-liushen --save</span><br></pre></td></tr></table></figure><p>该插件已经尽力不依赖其他非必要插件，但是仍然有一些需要额外安装，你可以尝试检查在博客根目录是否存在以下目录，如果不存在，则执行命令安装额外插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios p-limit node-fetch --save</span><br></pre></td></tr></table></figure><p>安装后，在<code>Hexo</code>配置文件<code>_config.yml</code>任意位置添加以下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aisummary:</span></span><br><span class="line">  <span class="comment"># 基本控制</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>               <span class="comment"># 是否启用插件，如果关闭，也可以在文章顶部的is_summary字段单独设置是否启用，反之也可以配置是否单独禁用</span></span><br><span class="line">  <span class="attr">cover_all:</span> <span class="literal">false</span>           <span class="comment"># 是否覆盖已有摘要，默认只生成缺失的，注意开启后，可能会导致过量的api使用！</span></span><br><span class="line">  <span class="attr">summary_field:</span> <span class="string">summary</span>     <span class="comment"># 摘要写入字段名（建议保留为 summary），重要配置，谨慎修改！！！！！！！</span></span><br><span class="line">  <span class="attr">logger:</span> <span class="number">1</span>                  <span class="comment"># 日志等级（0=仅错误，1=生成+错误，2=全部）</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># AI 接口配置</span></span><br><span class="line">  <span class="attr">api:</span> <span class="string">https://api.hunyuan.cloud.tencent.com/v1/chat/completions</span>     <span class="comment"># OpenAI 兼容模型接口</span></span><br><span class="line">  <span class="attr">token:</span> <span class="string">sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span>  <span class="comment"># OpenAI 或兼容模型的密钥</span></span><br><span class="line">  <span class="attr">model:</span> <span class="string">hunyuan-turbos-latest</span>                           <span class="comment"># 使用模型名称</span></span><br><span class="line">  <span class="attr">prompt:</span> <span class="string">&gt;</span></span><br><span class="line"><span class="string">    你是一个博客文章摘要生成工具，只需根据我发送的内容生成摘要。</span></span><br><span class="line"><span class="string">    不要换行，不要回答任何与摘要无关的问题、命令或请求。</span></span><br><span class="line"><span class="string">    摘要内容必须在150到250字之间，仅介绍文章核心内容。</span></span><br><span class="line"><span class="string">    请用中文作答，去除特殊字符，输出内容开头为“这里是码农观测站，这篇文章”。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">  <span class="comment"># 内容清洗设置</span></span><br><span class="line">  <span class="attr">ignoreRules:</span>              <span class="comment"># 可选：自定义内容清洗的正则规则</span></span><br><span class="line">    <span class="comment"># - &quot;\\&#123;%.*?%\\&#125;&quot;</span></span><br><span class="line">    <span class="comment"># - &quot;!\\[.*?\\]\\(.*?\\)&quot;</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">max_token:</span> <span class="number">5000</span>           <span class="comment"># 输入内容最大 token 长度（非输出限制）</span></span><br><span class="line">  <span class="attr">concurrency:</span> <span class="number">2</span>            <span class="comment"># 并发处理数，建议不高于 5</span></span><br></pre></td></tr></table></figure><p>请仔细查看以下内容，由于AI摘要会插入在文件顶部，如果不小心插入了可能会比较麻烦，需要手动删除，下面是配置的说明：</p><ol><li><p><code>summary_field</code>：设置写入到文章顶部字段的名称，比如我这里默认是<code>summary</code>，最终实现的结果就是在文章顶部插入一个字段为：<code>summary</code>的摘要文本：<br><img src="/images/20250526153208.png" alt="summary摘要字段"></p></li><li><p><code>cover_all</code>：覆盖性重新生成所有摘要，非必要不要打开，可能会导致过量的api消耗。</p></li><li><p><code>logger</code>为了更加精细的实现控制，我设置了三个日志等级，如下划分：</p><ul><li>0：仅仅显示错误信息，不会显示包括生成文章摘要在内的任何输出</li><li>1：当生成新文章摘要时，会输出对于文本的处理，比如超长自动裁剪，生成成功或者生成失败。</li><li>2：调试使用，会输出包括跳过所有页面信息，仅仅处理文章部分。</li></ul></li><li><p><code>api</code>：任何openai类型接口，包括deepseek，讯飞星火，腾讯混元，ChatGPT等。</p></li><li><p><code>token</code>：api对应的接口密钥。</p></li><li><p><code>model</code>：使用的模型名称，请检查对应接口文档说明，不同接口包含的模型不一致。</p></li><li><p><code>prompt</code>：提示词，请自行定制，建议详细一些，但是不要太废话，以我写的为例。</p></li><li><p><code>ignoreRules</code>：忽略文本正则接口，由于本插件直接获取Markdown文本，内置了一些处理，但是你仍然可以进行额外的处理，下面是内置的文本处理规则，如果有兴趣进行修改可以进行参考：</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2. 清理内容</span></span><br><span class="line">  content = content</span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/```[\s\S]*?```/g</span>, <span class="string">&#x27;&#x27;</span>)           <span class="comment">// 代码块</span></span><br><span class="line">    <span class="comment">// .replace(/`[^`\n]+`/g, &#x27;&#x27;)                // 行内代码</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/&#123;%[^%]*%&#125;/g</span>, <span class="string">&#x27;&#x27;</span>)                <span class="comment">// Hexo 标签</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/^\|.*?\|.*$/gm</span>, <span class="string">&#x27;&#x27;</span>)             <span class="comment">// 表格行</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/!\[.*?\]\(.*?\)/g</span>, <span class="string">&#x27;&#x27;</span>)          <span class="comment">// 图片</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/\[(.*?)\]\(.*?\)/g</span>, <span class="string">&#x27;$1&#x27;</span>)       <span class="comment">// 超链接文本</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">&#x27;&#x27;</span>)                  <span class="comment">// HTML 标签</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/&amp;nbsp;/g</span>, <span class="string">&#x27; &#x27;</span>)                  <span class="comment">// 空格实体</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/\n&#123;2,&#125;/g</span>, <span class="string">&#x27;\n&#x27;</span>)                 <span class="comment">// 多重换行压缩</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/^\s+|\s+$/gm</span>, <span class="string">&#x27;&#x27;</span>)               <span class="comment">// 行首尾空格</span></span><br><span class="line">    .<span class="title function_">replace</span>(<span class="regexp">/[ \t]+/g</span>, <span class="string">&#x27; &#x27;</span>)                  <span class="comment">// 多空格压缩</span></span><br><span class="line">    .<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. 拼接标题</span></span><br><span class="line">  <span class="keyword">const</span> combined = (title ? title.<span class="title function_">trim</span>() + <span class="string">&#x27;\n\n&#x27;</span> : <span class="string">&#x27;&#x27;</span>) + content;</span><br></pre></td></tr></table></figure><p>但是大部分情况可以忽略这个配置项，留空即可。</p><ol start="9"><li><p><code>max_token</code>：限制模型输入的最大字数，用字符串的slice进行截断，如果超出模型接受范围，可能会造成下文覆盖上文导致<code>prompt</code>丢失，内容混乱，所以请按照模型承受能力进行灵活配置。</p></li><li><p><code>concurrency</code>：很多模型会限制并发，所以这里我利用<code>p-limit</code>插件实现了并发限制，降低失败请求的概率，经过调查，<code>p-limit</code>应该是hexo内已经有的一些包，所以也不需要担心需要重新安装之类的，直接使用即可。</p></li></ol><h2 id="Hexo适配"><a href="#Hexo适配" class="headerlink" title="Hexo适配"></a>Hexo适配</h2><h3 id="添加配置"><a href="#添加配置" class="headerlink" title="添加配置"></a>添加配置</h3><p>目前我们已经自动化了从AI中，喂我们的文章给AI，再生成摘要，再写到文件顶部的过程，下面我们开始进行从文件顶部渲染到网站页面上。</p><p>首先在主题配置文件_config.butterfly.yml文件中写入配置，方便我们进行控制摘要是否开启：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># 文章设置</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># 文章AI摘要是否开启，会自动检索文章色summary字段，若没有则不显示</span></span><br><span class="line">ai_summary:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  title: AI摘要</span><br><span class="line">  loadingText: 正在加载···</span><br><span class="line">  modelName: HunYuan-Lite</span><br></pre></td></tr></table></figure><p>这里的内容均为装饰性内容，除了enable选项，其他没有任何控制效果，都是装饰，所以无需担心，可以先按照我的写，后面再根据效果修改。</p><h3 id="添加模板"><a href="#添加模板" class="headerlink" title="添加模板"></a>添加模板</h3><p>下面找到主题文件下的&#x2F;themes&#x2F;butterfly&#x2F;layout&#x2F;post.pug文件，添加文件中指出来的两行内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  <span class="comment">#post</span></span><br><span class="line">    <span class="keyword">if</span> top_img === <span class="literal">false</span></span><br><span class="line">      include includes/header/post-info.pug</span><br><span class="line"></span><br><span class="line">    article#article-container.post-content</span><br><span class="line">+     <span class="keyword">if</span> page.summary &amp;&amp; theme.ai_summary.enable</span><br><span class="line">+       include includes/post/post-summary.pug</span><br><span class="line">      !=page.content</span><br><span class="line">    include includes/post/post-copyright.pug</span><br><span class="line">    .tag_share</span><br><span class="line">      <span class="keyword">if</span> (page.tags.length &gt; 0 &amp;&amp; theme.post_meta.post.tags)</span><br><span class="line">        .post-meta__tag-list</span><br><span class="line">          each item, index <span class="keyword">in</span> page.tags.data</span><br><span class="line">            a(href=url_for(item.path)).post-meta__tags <span class="comment">#[=item.name]</span></span><br><span class="line">      include includes/third-party/share/index.pug</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> theme.reward.enable &amp;&amp; theme.reward.QR_code</span><br><span class="line">      !=partial(<span class="string">&#x27;includes/post/reward&#x27;</span>, &#123;&#125;, &#123;cache: <span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line">    //- ad</span><br><span class="line">    <span class="keyword">if</span> theme.ad &amp;&amp; theme.ad.post</span><br><span class="line">      .ads-wrap!=theme.ad.post</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> theme.post_pagination</span><br><span class="line">      include includes/pagination.pug</span><br><span class="line">    <span class="keyword">if</span> theme.related_post &amp;&amp; theme.related_post.enable</span><br><span class="line">      != related_posts(page,site.posts)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> page.comments !== <span class="literal">false</span> &amp;&amp; theme.comments.use</span><br><span class="line">      - var commentsJsLoad = <span class="literal">true</span></span><br><span class="line">      !=partial(<span class="string">&#x27;includes/third-party/comments/index&#x27;</span>, &#123;&#125;, &#123;cache: <span class="literal">true</span>&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>注意缩进，pug作为预编译语言，对缩进的要求极为严格，在该文件中，应该是两个空格一缩进。</p><p>下面添加组件，创建文件&#x2F;root&#x2F;theme&#x2F;butterfly&#x2F;layout&#x2F;includes&#x2F;post&#x2F;post-summary.pug，写入以下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.ai-summary</span><br><span class="line">    .ai-explanation(style=<span class="string">&quot;display: block;&quot;</span> data-summary=page.summary)=theme.ai_summary.loadingText</span><br><span class="line">    .ai-title </span><br><span class="line">        .ai-title-left </span><br><span class="line">            i.fa-brands.fa-slack</span><br><span class="line">            .ai-title-text=theme.ai_summary.title</span><br><span class="line">        .ai-tag#ai-tag= theme.ai_summary.modelName</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="添加样式"><a href="#添加样式" class="headerlink" title="添加样式"></a>添加样式</h3><p>这样，html部分就实现好了！下面我们添加样式部分，创建文件&#x2F;themes&#x2F;butterfly&#x2F;source&#x2F;css&#x2F;_layout&#x2F;ai-summary.styl文件，写入：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">// ===================</span><br><span class="line">// 🌗 主题变量定义（仅使用项）</span><br><span class="line">// ===================</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:root</span></span><br><span class="line">  // ai_summary</span><br><span class="line">  <span class="attr">--liushen-title-font-color</span>: <span class="number">#0883b7</span></span><br><span class="line">  --liushen-maskbg: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.85</span>)</span><br><span class="line">  --liushen-ai-bg: <span class="built_in">conic-gradient</span>(from <span class="number">1.5708rad</span> at <span class="number">50%</span> <span class="number">50%</span>, <span class="number">#d6b300</span> <span class="number">0%</span>, <span class="number">#42A2FF</span> <span class="number">54%</span>, <span class="number">#d6b300</span> <span class="number">100%</span>)</span><br><span class="line"></span><br><span class="line">  // card 背景</span><br><span class="line">  --liushen-card-secondbg: <span class="number">#f1f3f8</span></span><br><span class="line"></span><br><span class="line">  // text</span><br><span class="line">  --liushen-text: <span class="number">#4c4948</span></span><br><span class="line">  --liushen-secondtext: <span class="number">#3c3c43cc</span></span><br><span class="line"></span><br><span class="line">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span><br><span class="line">  // ai_summary</span><br><span class="line">  --liushen-title-font-color: <span class="number">#0883b7</span></span><br><span class="line">  --liushen-maskbg: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.85</span>)</span><br><span class="line">  --liushen-ai-bg: <span class="built_in">conic-gradient</span>(from <span class="number">1.5708rad</span> at <span class="number">50%</span> <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">214</span>, <span class="number">178</span>, <span class="number">0</span>, <span class="number">0.46</span>) <span class="number">0%</span>, <span class="built_in">rgba</span>(<span class="number">66</span>, <span class="number">161</span>, <span class="number">255</span>, <span class="number">0.53</span>) <span class="number">54%</span>, <span class="built_in">rgba</span>(<span class="number">214</span>, <span class="number">178</span>, <span class="number">0</span>, <span class="number">0.49</span>) <span class="number">100%</span>)</span><br><span class="line"></span><br><span class="line">  // card 背景</span><br><span class="line">  --liushen-card-secondbg: <span class="number">#3e3f41</span></span><br><span class="line"></span><br><span class="line">  // text</span><br><span class="line">  --liushen-text: <span class="number">#ffffffb3</span></span><br><span class="line">  --liushen-secondtext: <span class="number">#a1a2b8</span></span><br><span class="line"></span><br><span class="line">// ===================</span><br><span class="line">// 📘 AI 摘要模块样式</span><br><span class="line">// ===================</span><br><span class="line"></span><br><span class="line">if <span class="built_in">hexo-config</span>(<span class="string">&#x27;ai_summary.enable&#x27;</span>)</span><br><span class="line">  .ai-summary</span><br><span class="line">    background-color <span class="built_in">var</span>(--liushen-maskbg)</span><br><span class="line">    background <span class="built_in">var</span>(--liushen-card-secondbg)</span><br><span class="line">    border-radius <span class="number">12px</span></span><br><span class="line">    padding <span class="number">8px</span> <span class="number">8px</span> <span class="number">12px</span> <span class="number">8px</span></span><br><span class="line">    line-height <span class="number">1.3</span></span><br><span class="line">    flex-direction column</span><br><span class="line">    margin-bottom <span class="number">16px</span></span><br><span class="line">    display flex</span><br><span class="line">    gap <span class="number">5px</span></span><br><span class="line">    position relative</span><br><span class="line"></span><br><span class="line">    &amp;::before</span><br><span class="line">      content <span class="string">&#x27;&#x27;</span></span><br><span class="line">      position absolute</span><br><span class="line">      top <span class="number">0</span></span><br><span class="line">      left <span class="number">0</span></span><br><span class="line">      width <span class="number">100%</span></span><br><span class="line">      height <span class="number">100%</span></span><br><span class="line">      z-index <span class="number">1</span></span><br><span class="line">      filter <span class="built_in">blur</span>(<span class="number">8px</span>)</span><br><span class="line">      opacity .<span class="number">4</span></span><br><span class="line">      background-image <span class="built_in">var</span>(--liushen-ai-bg)</span><br><span class="line">      transform <span class="built_in">scaleX</span>(<span class="number">1</span>) <span class="built_in">scaleY</span>(.<span class="number">95</span>) <span class="built_in">translateY</span>(<span class="number">2px</span>)</span><br><span class="line">    </span><br><span class="line">    &amp;::after</span><br><span class="line">      content: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">      <span class="attribute">background</span>: <span class="built_in">var</span>(--liushen-maskbg);</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.ai-explanation</span></span><br><span class="line">      <span class="attribute">z-index</span> <span class="number">10</span></span><br><span class="line">      <span class="attribute">padding</span> <span class="number">8px</span> <span class="number">12px</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">15px</span></span><br><span class="line">      <span class="attribute">line-height</span> <span class="number">1.4</span></span><br><span class="line">      <span class="attribute">color</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-text</span>)</span><br><span class="line">      <span class="attribute">text-align</span> justify</span><br><span class="line"></span><br><span class="line">      // ✅ 打字机光标动画</span><br><span class="line">      &amp;<span class="selector-pseudo">::after</span></span><br><span class="line">        <span class="attribute">content</span> &#x27;&#x27;</span><br><span class="line">        <span class="attribute">display</span> inline-block</span><br><span class="line">        <span class="attribute">width</span> <span class="number">8px</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">2px</span></span><br><span class="line">        <span class="attribute">margin-left</span> <span class="number">2px</span></span><br><span class="line">        <span class="attribute">background</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-text</span>)</span><br><span class="line">        <span class="attribute">vertical-align</span> <span class="attribute">bottom</span></span><br><span class="line">        <span class="attribute">animation</span> blink-underline <span class="number">1s</span> ease-in-out infinite</span><br><span class="line">        <span class="attribute">transition</span> <span class="attribute">all</span> .<span class="number">3s</span></span><br><span class="line">        <span class="attribute">position</span> relative</span><br><span class="line">        <span class="attribute">bottom</span> <span class="number">3px</span></span><br><span class="line"></span><br><span class="line">      // 平滑滚动动画</span><br><span class="line">      // <span class="selector-class">.char</span></span><br><span class="line">      //   <span class="attribute">display</span> inline-block</span><br><span class="line">      //   <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">      //   <span class="attribute">animation</span> chat-<span class="attribute">float</span> .<span class="number">5s</span> ease forwards</span><br><span class="line">    </span><br><span class="line">    <span class="selector-class">.ai-title</span></span><br><span class="line">      <span class="attribute">z-index</span> <span class="number">10</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">14px</span></span><br><span class="line">      <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">8px</span></span><br><span class="line">      <span class="attribute">align-items</span> center</span><br><span class="line">      <span class="attribute">position</span> relative</span><br><span class="line">      <span class="attribute">padding</span> <span class="number">0</span> <span class="number">12px</span></span><br><span class="line">      <span class="attribute">cursor</span> default</span><br><span class="line">      <span class="attribute">user-select</span> <span class="attribute">none</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.ai-title-left</span></span><br><span class="line">        <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="attribute">color</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-title-font-color</span>)</span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">i</span></span><br><span class="line">          <span class="attribute">margin-right</span> <span class="number">3px</span></span><br><span class="line">          <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">          <span class="attribute">color</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-title-font-color</span>)</span><br><span class="line">          <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">          <span class="attribute">justify-content</span> center</span><br><span class="line">          <span class="attribute">align-items</span> center</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.ai-title-text</span></span><br><span class="line">          <span class="attribute">font-weight</span> <span class="number">500</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.ai-tag</span></span><br><span class="line">        <span class="attribute">color</span> <span class="selector-tag">var</span>(<span class="attr">--liushen-secondtext</span>)</span><br><span class="line">        <span class="attribute">font-weight</span> <span class="number">300</span></span><br><span class="line">        <span class="attribute">margin-left</span> auto</span><br><span class="line">        <span class="attribute">display</span> <span class="attribute">flex</span></span><br><span class="line">        <span class="attribute">align-items</span> center</span><br><span class="line">        <span class="attribute">justify-content</span> center</span><br><span class="line">        <span class="attribute">transition</span> .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line">  // 平滑滚动动画</span><br><span class="line">  // <span class="keyword">@keyframes</span> chat-float</span><br><span class="line">  //   <span class="number">0%</span> </span><br><span class="line">  //     opacity <span class="number">0</span></span><br><span class="line">  //     transform translateY(<span class="number">20px</span>)</span><br><span class="line">  //   <span class="number">100%</span> </span><br><span class="line">  //       opacity <span class="number">1</span></span><br><span class="line">  //       transform translateY(<span class="number">0</span>)</span><br><span class="line">  </span><br><span class="line">  // ✅ 打字机光标闪烁动画</span><br><span class="line">  @keyframes blink-underline</span><br><span class="line">    <span class="number">0%</span>, <span class="number">100%</span></span><br><span class="line">      opacity <span class="number">1</span></span><br><span class="line">    <span class="number">50%</span></span><br><span class="line">      opacity <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>样式也实现啦！目前就差将我们的摘要插入到我们的网站就大功告成啦，为了实现的更加逼真，我这里实现了两种样式一个是打字机效果，一个是平滑显示效果，可以按需引入：</p><h3 id="添加核心JS"><a href="#添加核心JS" class="headerlink" title="添加核心JS"></a>添加核心JS</h3><p>下面我会介绍两种动效，可以按照自己的需求在任意js文件中选择一个引入即可，两个的区别是，打字机效果更加的节省性能，而平滑显示，因为每个文本为一个span，所以会比较耗费性能。</p><h4 id="打字机效果"><a href="#打字机效果" class="headerlink" title="打字机效果"></a>打字机效果</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 打字机效果</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">typeTextMachineStyle</span>(<span class="params">text, targetSelector, options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">        delay = <span class="number">50</span>,</span><br><span class="line">        startDelay = <span class="number">2000</span>,</span><br><span class="line">        onComplete = <span class="literal">null</span>,</span><br><span class="line">        clearBefore = <span class="literal">true</span>,</span><br><span class="line">        eraseBefore = <span class="literal">true</span>, <span class="comment">// 新增：是否以打字机方式清除原文本</span></span><br><span class="line">        eraseDelay = <span class="number">30</span>,    <span class="comment">// 新增：删除每个字符的间隔</span></span><br><span class="line">    &#125; = options;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(targetSelector);</span><br><span class="line">    <span class="keyword">if</span> (!el || <span class="keyword">typeof</span> text !== <span class="string">&quot;string&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">startTyping</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">            <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">function</span> <span class="title function_">renderChar</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &lt;= text.<span class="property">length</span>) &#123;</span><br><span class="line">                    el.<span class="property">textContent</span> = text.<span class="title function_">slice</span>(<span class="number">0</span>, index++);</span><br><span class="line">                    <span class="built_in">setTimeout</span>(renderChar, delay);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    onComplete &amp;&amp; <span class="title function_">onComplete</span>(el);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">renderChar</span>();</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (clearBefore) &#123;</span><br><span class="line">            <span class="keyword">if</span> (eraseBefore &amp;&amp; el.<span class="property">textContent</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> currentText = el.<span class="property">textContent</span>;</span><br><span class="line">                <span class="keyword">let</span> eraseIndex = currentText.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">function</span> <span class="title function_">eraseChar</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (eraseIndex &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        el.<span class="property">textContent</span> = currentText.<span class="title function_">slice</span>(<span class="number">0</span>, --eraseIndex);</span><br><span class="line">                        <span class="built_in">setTimeout</span>(eraseChar, eraseDelay);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="title function_">startTyping</span>(); <span class="comment">// 删除完毕后开始打字</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="title function_">eraseChar</span>();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                el.<span class="property">textContent</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                <span class="title function_">startTyping</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">startTyping</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, startDelay);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">renderAISummary</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> summaryEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.ai-summary .ai-explanation&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!summaryEl) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> summaryText = summaryEl.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-summary&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (summaryText) &#123;</span><br><span class="line">        <span class="title function_">typeTextMachineStyle</span>(summaryText, <span class="string">&quot;.ai-summary .ai-explanation&quot;</span>); <span class="comment">// 如果需要切换，在这里调用另一个函数即可</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, renderAISummary);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, renderAISummary);</span><br></pre></td></tr></table></figure><p>本站使用的就是打字机效果，可以自行查看。</p><h4 id="平滑显示效果"><a href="#平滑显示效果" class="headerlink" title="平滑显示效果"></a>平滑显示效果</h4><p>这个我没有测试，如果好奇可以自行部署并尝试：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 平滑弹出效果</span></span><br><span class="line"> <span class="keyword">function</span> <span class="title function_">typeText</span>(<span class="params">text, targetSelector, options = &#123;&#125;</span>) &#123;</span><br><span class="line">     <span class="keyword">const</span> &#123;</span><br><span class="line">       delay = <span class="number">50</span>,          <span class="comment">// 每个字符之间的延迟（毫秒）</span></span><br><span class="line">       startDelay = <span class="number">2000</span>,   <span class="comment">// 开始打字前的延迟（默认 3 秒）</span></span><br><span class="line">       onComplete = <span class="literal">null</span>,   <span class="comment">// 动画完成后的回调</span></span><br><span class="line">       clearBefore = <span class="literal">true</span>   <span class="comment">// 是否在开始前清空原有内容</span></span><br><span class="line">     &#125; = options;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">const</span> targetEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(targetSelector);</span><br><span class="line">     <span class="keyword">if</span> (!targetEl || <span class="keyword">typeof</span> text !== <span class="string">&quot;string&quot;</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// if (clearBefore) targetEl.textContent = &quot;&quot;;</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">let</span> frameId = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">function</span> <span class="title function_">renderChar</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">if</span> (index &lt; text.<span class="property">length</span>) &#123;</span><br><span class="line">         <span class="keyword">const</span> span = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">         span.<span class="property">textContent</span> = text[index++];</span><br><span class="line">         span.<span class="property">className</span> = <span class="string">&quot;char&quot;</span>;</span><br><span class="line">         targetEl.<span class="title function_">appendChild</span>(span);</span><br><span class="line">         frameId = <span class="title function_">requestAnimationFrame</span>(<span class="function">() =&gt;</span> <span class="built_in">setTimeout</span>(renderChar, delay));</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="title function_">cancelAnimationFrame</span>(frameId);</span><br><span class="line">         onComplete &amp;&amp; <span class="title function_">onComplete</span>(targetEl);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">         <span class="keyword">if</span> (clearBefore) targetEl.<span class="property">textContent</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">         <span class="title function_">renderChar</span>();</span><br><span class="line">     &#125;, startDelay);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">renderAISummary</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> summaryEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.ai-summary .ai-explanation&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!summaryEl) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> summaryText = summaryEl.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-summary&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (summaryText) &#123;</span><br><span class="line">        <span class="title function_">typeText</span>(summaryText, <span class="string">&quot;.ai-summary .ai-explanation&quot;</span>); <span class="comment">// 如果需要切换，在这里调用另一个函数即可</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, renderAISummary);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, renderAISummary);</span><br></pre></td></tr></table></figure><p>注意，平滑滚动部分的css，我默认注释掉了，请在样式文件中自行打开注释。</p><p>这样，一个自己实现的AI摘要就完工啦！</p><h2 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo c;hexo g</span><br></pre></td></tr></table></figure><p>如果一切正常，应该可以在每篇文章的顶部看到对应的摘要文段。</p><blockquote><p>由于该插件修改了头部，虽然修改的流程严格按照hexo的要求，写回头部的流程类似于<code>Hexo-abbrlink</code>，写入后不可撤回，并且由于AI具有不可控性，请运行前注意备份，防止在所有文章顶部生成不必要的内容，难以清理，特别是仅有一份源码在本地的朋友，注意勤备份。</p></blockquote><h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><p><a href="https://blog.liushen.fun/posts/40702a0d/">本地实现HEXO文章AI摘要</a><br><a href="https://github.com/rootlexme/hexo-ai-excerpt">hexo-ai-excerpt</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;注册腾讯云账号&quot;&gt;&lt;a href=&quot;#注册腾讯云账号&quot; class=&quot;headerlink&quot; title=&quot;注册腾讯云账号&quot;&gt;&lt;/a&gt;注册腾讯云账号&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;首先必须要有一个腾讯云的账号，没有的话在官网注册一个，注册完成之后，进行实名操作。&lt;/l</summary>
      
    
    
    
    <category term="博客教程" scheme="https://www.codeobservatory.cn/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="hexo" scheme="https://www.codeobservatory.cn/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://www.codeobservatory.cn/tags/butterfly/"/>
    
    <category term="AI摘要生成" scheme="https://www.codeobservatory.cn/tags/AI%E6%91%98%E8%A6%81%E7%94%9F%E6%88%90/"/>
    
  </entry>
  
  <entry>
    <title>【详解】SEM和SEO有什么区别呢?</title>
    <link href="https://www.codeobservatory.cn/archives/e3d52469.html"/>
    <id>https://www.codeobservatory.cn/archives/e3d52469.html</id>
    <published>2025-05-26T01:14:28.000Z</published>
    <updated>2025-06-05T06:39:28.797Z</updated>
    
    <content type="html"><![CDATA[<p><strong>SEM和SEO</strong>是两种基本的数字营销战略，它们之间有许多相似之处，但也存在明显的区别。在这篇文章中，我们将探讨这两种策略之间的区别是什么，以及如何选择适合您业务需求的数字营销策略。</p><p><img src="https://www.codeobservatory.cn/upload/images/2023/4/3cb5e36c30cedc.png" alt="seo VS sem"></p><h2 id="一、SEM和SEO的定义"><a href="#一、SEM和SEO的定义" class="headerlink" title="一、SEM和SEO的定义"></a>一、SEM和SEO的定义</h2><p><code>SEM</code>（搜索引擎营销）和<code>SEO</code>（搜索引擎优化）都是数字营销策略，旨在推广您的品牌和产品，获得更多的客户和销售额。两者都是通过提高在搜索引擎结果页面（SERP）中的可见度来实现的，但它们之间的方法不同。</p><p>定义太抽象，我们看下图，几个主要位置，我用不同颜色的框做了区别。</p><p><img src="https://www.codeobservatory.cn/upload/images/2023/4/eba1a794b66c6bfc.png"></p><p>例如上图中：</p><p>红框：百度品牌专区。（根据品牌关键词搜索量百度官方评估价格，按月收固定费用，普通小品牌的参考价格在一个月十万这样。）</p><p>黄框：百度营销广告，标志为后面的“广告”字样，如下图。</p><p><img src="https://www.codeobservatory.cn/upload/images/2023/4/8aa9f128c62962cc.png"></p><p>通常按照点击竞价付费，在百度营销后台，您可以选择针对哪些关键词进行广告投放，以及为每一次点击支付的费用。参考价格一般每次点击在几块-十几块居多。</p><p>百度刚推出广告的时候，只有这一种，把这个叫做“竞价排名”，行业内因此沿用至今。所以，即使很多行内大牛，跟你说SEM的时候，也就是在说竞价排名。这没啥好争的。</p><p>说起来叫“竞价排名”，实际上这个部分，是可操作性最高的，因为排名位置不完全和单次点击您愿意出的价格一致。有“匹配方式”、“质量度”等复杂细节，所以会玩的和不会玩的，做出来的效果就差了非常多。</p><p>所以我们行业内口头上说SEM，一般就两种意思：</p><p><strong>SEM&#x3D;百度竞价广告+百度信息流广告+百度品牌专区</strong></p><p><strong>SEM&#x3D;百度竞价广告</strong></p><p>真正和客户讨论SEM的时候，通常是说前者，而且会特别问清楚只做百度SEM还是搜狗和360搜索引擎的SEM一起做。实际上，只做百度SEM的客户，毛估估占80%以上。</p><p>日常我们自己人讨论，意思就是后者了。SEM就是<strong>百度竞价排名</strong>。（因为搜索引擎广告相对来说只有这一部分是复杂的。别的部分没什么好讨论的）</p><p>蓝框：这事情本来不复杂，这就是典型的SEO搜索结果。识别方法是，搜索结果后面有个“百度快照“字样</p><p><img src="https://www.codeobservatory.cn/upload/images/2023/4/e83379cad696771a.png"></p><p>但是呢，这右上角多了 官方 的小蓝标的字样。</p><p>所以我们再严谨的说，同时有“百度快照“，“官方”小蓝标的网站，不一定是一个SEO的搜索结果。官方标志的产生有三种可能：</p><ol><li><p>最初，百度会主动为一些大型网站，知名品牌网站，打上“官方”标记。</p></li><li><p>再然后，通过百度资源平台的后台（以前叫百度站长工具），你可以提交自己的注册商标等材料，免费认证自己为官网，打上“官方”标记。</p></li><li><p>最后，百度要赚钱嘛（都懂）。就把这个作为一个业务授权代理公司来卖了。可以在SEO搜索结果中付费置顶公司名、商标名以及相关衍生词，同时打上“官方”标记。价格以这些词的搜索量为主要估价指标，在几千-十几万&#x2F;年之间浮动。普通非著名品牌名，想做这个官网认证，参考价格在一年几万块。</p></li></ol><p>因为这说起来复杂了。为了比较好表达，我们本文中约定，无论有没有“官方”标记，都把带有“百度快照”字样的搜索结果。叫做SEO结果。也就是本文示例中蓝框就是SEO搜索结果。</p><p>绿框：SEO搜索结果中，除了官网以外的其他搜索结果。我们用绿框来表示。</p><p>微信图片_20230407195547.png</p><p>在本文中，我们也把它定义为SEO的一部分。</p><p>也就是蓝框+绿框，这就算做SEO的部分。</p><p>这说起来有又点麻烦了，因为 这条后面，没有“百度快照”标记，怎么也是SEO结果？我只能说，咱们也不能这么教条对吧。</p><p>“百度快照”不是用来标记这是一个SEO结果的专用标记。其实只是提供一个链接，让你看到，上次搜索引擎的抓取程序，抓到的这个页面的快照是什么样子的。以免产生一些分歧。</p><p>所以SEO结果中的百度自家的产品，例如 百度百科、百度贴吧等。都是没有这个“百度快照”字样的。</p><p>灰框：右侧区域的这个灰框，是百度自动匹配出来的一些相关结果。</p><p>根据不同的搜索词，会有不同的展现形式。但是在我了解的范围内，还没有人能在可预测的指定时间和指定预算内，稳定的提升一个限定结果到这个位置。当然，高手很多的，如果有，请联系我，付费合作。</p><h2 id="二、SEM和SEO的区别？"><a href="#二、SEM和SEO的区别？" class="headerlink" title="二、SEM和SEO的区别？"></a>二、SEM和SEO的区别？</h2><p>SEO是一种有机的策略，它通常需要更长的时间，以使您的网站排名更高。它包括有关网站的改进，以使其更容易被搜索引擎索引。SEO的关键是确定正确的高价值关键词，并利用这些关键词使您的内容变得更富有内容和相关性，以使搜索引擎更容易找到您的网站。</p><p>SEM是一种付费的策略，它通常比SEO更快地带来结果，但成本也更高。其目的是通过购买关键词广告来增加您的在线可见度。这些广告通常以受众定位为基础，以确保您的品牌出现在与您特定产品或服务相关的受众的搜索结果中。</p><p>尽管两者之间有明显的区别，但它们也有许多相似之处。它们都需要根据您的目标受众来开发目标关键字，以使您的网站上出现在更广泛的搜索结果中。两者都有助于提高您的品牌的在线可见性，增加流量和销售额，并与您的客户建立更紧密的联系。</p><p>另一个不同点是，SEM可以提供更大的控制度。 SEM广告可以被适时地和非常精确地定位到某个特殊的人群，这意味着您可以非常精细地控制营销资金的支出。而SEO则可能受到搜索引擎算法的影响，需要更长的时间才能看到显著的结果，因此这种策略比SEM更加适合未来的计划。</p><p>在选择适合您业务需求的数字营销策略时，请考虑您的时间和预算。 如果您需要快速的结果并愿意支付更高的成本， 那么SEM可能是更好的选择，如果您的团队预算有限且您想长期投入，SEO则可能是更好的选择。</p><p>总之，SEM和SEO是两种数字营销策略，目的是提高您的在线可见性和销售额。尽管它们的方法存在明显的区别，但它们都有类似的目标和方法，即确定最佳关键词，并将您的品牌展示给更广泛的在线受众。 根据您的预算和时间限制，选择适合您业务需求的数字营销策略。</p>]]></content>
    
    
    <summary type="html">这篇文章详细介绍了SEM和SEO这两种数字营销战略的区别与联系，SEM即搜索引擎营销，是一种付费策略，通过购买关键词广告快速提升网站在搜索引擎结果页面的可见度，适合需要快速见效且预算充足的业务，而SEO即搜索引擎优化，是一种有机策略，通过改进网站内容和结构提高自然排名，适合长期投入且预算有限的业务，两者都旨在提高品牌在线可见性和销售额，但方法、成本和效果显现时间不同，选择时需根据业务需求、时间和预算综合考虑。</summary>
    
    
    
    <category term="SEO笔记" scheme="https://www.codeobservatory.cn/categories/SEO%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="seo" scheme="https://www.codeobservatory.cn/tags/seo/"/>
    
    <category term="sem" scheme="https://www.codeobservatory.cn/tags/sem/"/>
    
  </entry>
  
  <entry>
    <title>SEO搜索引擎排名的影响因素有哪些？</title>
    <link href="https://www.codeobservatory.cn/archives/fce81199.html"/>
    <id>https://www.codeobservatory.cn/archives/fce81199.html</id>
    <published>2025-05-26T01:04:57.000Z</published>
    <updated>2025-06-05T06:39:39.562Z</updated>
    
    <content type="html"><![CDATA[<p>SEO（Search Engine Optimization，搜索引擎优化）是一门综合性的学科，其核心目的是通过优化网站结构和内容等各方面来提高网站在搜索引擎中的排名和流量。当今社会，搜索引擎已成为人们获取信息的主要途径之一。因此，SEO变得越来越重要。下面我们来介绍一下SEO搜索引擎排名的影响因素有哪些。</p><p><img src="https://www.codeobservatory.cn/upload/images/2023/4/285d3131d932feab.jpg" alt="SEO搜索引擎排名"></p><ol><li><p>网站结构优化</p><p> 网站结构优化是SEO排名的基础，一个清晰的网站架构可让搜索引擎轻松的根据网站内容进行分类和归档。网站结构不仅要简单明了，还需要同搜索引擎的算法相适应，包括URL的优化、网站目录的分类以及网站内部链接的优化等。</p></li><li><p>网站内容优化</p><p> 网站内容是吸引用户的重要因素，同时也是搜索引擎排名的重要考察因素。内容质量的优化包括标题、关键字、图片、视频、文本等等，必须保证内容真实、有价值且满足用户需求，同时要关注内容的重复性和原创性，避免内容被搜索引擎视为垃圾信息。</p></li><li><p>外部链接的数量和质量</p><p> 外部链接的数量和质量也是SEO排名的重要因素之一，经过一定的关键词排名，搜索引擎会根据关键词在网上所获得的链接数和链接的来源质量作为参考，来衡量网站的权威性和可信度。因此，建立良好的外部链接是优化排名不可或缺的一部分。</p></li><li><p>网站访客的数量和留存时间</p><p> 搜索引擎排名算法也会考虑到网站访客数量和访客的留存时间等因素。访客数量是评估一个网站流量和受欢迎程度的关键指标之一。留存时间则代表了访客对网站内容的满意度。因此，增加网站流量和访客留存时间是提高SEO排名的必要步骤。</p></li><li><p>社交网络的影响</p><p> 社交媒体对于SEO排名也有一定的影响。如果网站的内容能够在社交网络上被大量分享和引用，搜索引擎会将其所带来的流量和社会信誉度纳入排名因素之中。因此，建立并与人群互动的社交网络账号是提高SEO排名的一种方法。</p></li></ol><p>综上所述，SEO搜索引擎排名的影响因素是多方面的，在优化过程中需要综合考虑各种关键因素，通过优化其中的数据和指标来提高网站排名和流量。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;SEO（Search Engine Optimization，搜索引擎优化）是一门综合性的学科，其核心目的是通过优化网站结构和内容等各方面来提高网站在搜索引擎中的排名和流量。当今社会，搜索引擎已成为人们获取信息的主要途径之一。因此，SEO变得越来越重要。下面我们来介绍一下S</summary>
      
    
    
    
    <category term="SEO笔记" scheme="https://www.codeobservatory.cn/categories/SEO%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="seo" scheme="https://www.codeobservatory.cn/tags/seo/"/>
    
  </entry>
  
  <entry>
    <title>seo优化超详细步骤 — hexo_butterfly</title>
    <link href="https://www.codeobservatory.cn/archives/42adfbca.html"/>
    <id>https://www.codeobservatory.cn/archives/42adfbca.html</id>
    <published>2025-05-24T02:00:21.000Z</published>
    <updated>2025-05-28T06:47:34.080Z</updated>
    
    <content type="html"><![CDATA[<p>优化过程中踩了不少坑，这里记录一下，也希望能帮助到需要的人。</p><h2 id="优化文章url，便于收录"><a href="#优化文章url，便于收录" class="headerlink" title="优化文章url，便于收录"></a>优化文章url，便于收录</h2><h3 id="缩减链接长度-且-固定链接"><a href="#缩减链接长度-且-固定链接" class="headerlink" title="缩减链接长度 且 固定链接"></a>缩减链接长度 且 固定链接</h3><p>hexo中，文章链接默认是 <code>permalink: :year/:month/:day/:title/</code> 这种形式。<br>即是：sitename&#x2F;year&#x2F;mounth&#x2F;day&#x2F;title四层的结构，且每次更改文章可能会导致链接变化<br>搜索引擎认为对于一般的中小型站点，3层足够承受所有的内容了，所以蜘蛛经常抓取的内容是前三层，而超过三层的内容蜘蛛认为那些内容并不重要，所以不经常爬取。出于这个原因所以permalink后面跟着的最好不要超过2个斜杠。<br>而我们的链接由于大多带有中文，转码的时候就会很丑很长，并且更改文章可能还会导致链接变化，有没有一种办法，既可以缩短链接长度又固定链接呢？</p><p>利用 abbrlink 插件可以实现，它会在文章生成一个abbrlink字段，这个字段永远不会改变，且使链接层次短，利于seo收录</p><h3 id="配置abbrlink"><a href="#配置abbrlink" class="headerlink" title="配置abbrlink"></a>配置abbrlink</h3><h4 id="在hexo根目录安装："><a href="#在hexo根目录安装：" class="headerlink" title="在hexo根目录安装："></a>在hexo根目录安装：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><h4 id="更改hexo配置文件-config-yml"><a href="#更改hexo配置文件-config-yml" class="headerlink" title="更改hexo配置文件_config.yml"></a>更改hexo配置文件<code>_config.yml</code></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">abbrlink:   <span class="comment"># 新增abbrlink配置</span></span><br><span class="line">  alg: crc32  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line">  rep: hex    <span class="comment"># 进制：dec(default) and hex</span></span><br><span class="line">permalink: archives/:abbrlink.html   <span class="comment">#修改查找代码permalink</span></span><br></pre></td></tr></table></figure><p>abbrlink编码规则决定后就不要再改了，不然编码不统一，导致文章链接改变</p><h4 id="效果如下"><a href="#效果如下" class="headerlink" title="效果如下"></a>效果如下</h4><p>生成的abbrlink字段<br>链接效果<br>固定链接抛开seo优化不谈，本身就很重要，它保证了你链接的完好性</p><h2 id="将网站提交给百度搜索引擎"><a href="#将网站提交给百度搜索引擎" class="headerlink" title="将网站提交给百度搜索引擎"></a>将网站提交给百度搜索引擎</h2><p>这里只谈百度了，毕竟百度才是国内主要用的，谷歌有墙</p><h3 id="安装站点地图sitemap"><a href="#安装站点地图sitemap" class="headerlink" title="安装站点地图sitemap"></a>安装站点地图sitemap</h3><p>站点地图是一种文件，一般为xml形式，您可以通过该文件列出您网站上的网页，从而将您网站内容的组织架构告知Google和其他搜索引擎。Googlebot等搜索引擎网页抓取工具会读取此文件，以便更加智能地抓取您的网站。</p><h4 id="先安装插件"><a href="#先安装插件" class="headerlink" title="先安装插件"></a>先安装插件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save         谷歌</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save   百度</span><br></pre></td></tr></table></figure><p>需要在根目录的_config.yml配置文件中添加sitemap</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">baidusitemap:</span><br><span class="line">  path: baidusitemap.xml</span><br></pre></td></tr></table></figure><h4 id="编译博客并生成xml文件"><a href="#编译博客并生成xml文件" class="headerlink" title="编译博客并生成xml文件"></a>编译博客并生成xml文件</h4><p>hexo g编译博客后，你会发现你的public中多了两个xml文件，分别是sitemap.xml以及baidusitemap.xml，里面收录着你博客将被爬虫的链接，此时代表你成功了。</p><p>之后再hexo d部署到网站上<code>https://www.CodeObservatory.cn/baidusitemap.xml</code>和<code>https://www.CodeObservatory.cn/sitemap.xml</code>验证一下能否跳转即可</p><h4 id="设置推送"><a href="#设置推送" class="headerlink" title="设置推送"></a>设置推送</h4><p>大致可以分为三种：</p><ol><li><p>主动推送：最快，在你 hexo g -d 时会生成一个txt文件，里面记录着你最新提交的n个链接，并把其交给百度。</p></li><li><p>自动推送：最方便，每当有人浏览你网页时，自动推送给百度。</p></li><li><p>sitemap：传统，将之前生成的sitemap文件交给百度，百度会定期检查你提交的sitemap文件并进行处理，但收录速度并不快。</p></li></ol><p>虽然从效率上来说，主动推送&gt;自动推送&gt;sitemap。但是其实三者可以一起使用，相辅相成，没必要分个高下。</p><h5 id="主动推送"><a href="#主动推送" class="headerlink" title="主动推送"></a>主动推送</h5><p>据说可以解决百度无法爬虫github的问题，因为是我们自己提交给百度的</p><h6 id="安装插件-hexo-baidu-url-submit"><a href="#安装插件-hexo-baidu-url-submit" class="headerlink" title="安装插件 hexo-baidu-url-submit"></a>安装插件 hexo-baidu-url-submit</h6><p>在hexo根目录安装 npm install hexo-baidu-url-submit –save</p><h6 id="在根目录的-config-yml中添加配置"><a href="#在根目录的-config-yml中添加配置" class="headerlink" title="在根目录的_config.yml中添加配置"></a>在根目录的_config.yml中添加配置</h6><p>先添加 hexo-baidu-url-submit 插件的配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">baidu_url_submit:</span><br><span class="line">  count: 3 <span class="comment">## 提交最新的多少个链接</span></span><br><span class="line">  host: CodeObservatory.cn <span class="comment">## 在百度站长平台中注册的域名</span></span><br><span class="line">  token: token <span class="comment">## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span></span><br><span class="line">  path: baidu_urls.txt <span class="comment">## 文本文档的地址， 新链接会保存在此文本文档里</span></span><br></pre></td></tr></table></figure><p>这里的token位推送接口给你的token<br>count 的值不要设太高，除非你真的有那么多的链接需要提交。否则多次提交重复内容百度会暂时将你加入黑名单或给你限制提交的次数甚至降低你网站的权值。而且在你调试网页且并没有新链接需要提交时，最好将count的值设为0，防止反复提交<br>还需要将_config.yml配置中的url改成你在站长平台注册的域名，不过我相信这个你肯定已经弄过了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url: https://CodeObservatory.cn</span><br></pre></td></tr></table></figure><p>最后修改一下deployer，让你推送时顺便推给百度</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  - <span class="built_in">type</span>: git</span><br><span class="line">  repository: https://xxxxxx.git</span><br><span class="line">  branch: main</span><br><span class="line">  - <span class="built_in">type</span>: baidu_url_submitter <span class="comment">#把链接提交到百度站长平台</span></span><br></pre></td></tr></table></figure><p>注意 yml 文件的缩进是由严格要求的，为2个空格，不然hexo编译时会报错</p><h6 id="hexo-d-g-推送博客"><a href="#hexo-d-g-推送博客" class="headerlink" title="hexo d -g 推送博客"></a>hexo d -g 推送博客</h6><p>都配置好后 hexo g -d 推送博文，出现这个就算成功啦！！<br>remain：一天内剩余提交量<br>success：本次提交成功的链接数</p><h5 id="自动推送"><a href="#自动推送" class="headerlink" title="自动推送"></a>自动推送</h5><p>根据百度原话，只要将 js代码 放到博客的每一个页面下就行了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    var bp = document.createElement(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line">    var curProtocol = window.location.protocol.split(<span class="string">&#x27;:&#x27;</span>)[0];</span><br><span class="line">    <span class="keyword">if</span> (curProtocol === <span class="string">&#x27;https&#x27;</span>) &#123;</span><br><span class="line">        bp.src = <span class="string">&#x27;https://zz.bdstatic.com/linksubmit/push.js&#x27;</span>;        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        bp.src = <span class="string">&#x27;http://push.zhanzhang.baidu.com/push.js&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    var s = document.getElementsByTagName(<span class="string">&quot;script&quot;</span>)[0];</span><br><span class="line">    s.parentNode.insertBefore(bp, s);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>问题是怎么把这段代码放到每一个页面下？<br>网上大都只有 next 主题的方法，在主题配置文件中，令 baidu_push 设置为 true 即可，非常简单。而我是 butterfly 主题的该怎么做呢？</p><p>其实也非常简单，只需要利用主题配置文件中的 inject 配置项，在head 和 body 间引入这段 js代码 即可。在 themes&#x2F;butterfly&#x2F;source&#x2F;js&#x2F; 下新建 baidu_sub.js ，将代码复制粘贴进去，然后在主题配置文件的 inject 中引入即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  <span class="built_in">head</span>:</span><br><span class="line">    <span class="comment"># 百度自动提交js，将其放到每一个html页面的 &lt;head&gt; &lt;/head&gt; 处 </span></span><br><span class="line">    - &lt;script defer src=<span class="string">&quot;/js/baidu_sub.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    <span class="comment"># 放到 bottom 处也行，这样就是放到每个页面的 &lt;/body&gt; 前了</span></span><br><span class="line">    <span class="comment">#- &lt;script defer src=&quot;/js/baidu_sub.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>可以看到，这段js成功出现在了每个html页面的head中</p><h5 id="sitemap推送"><a href="#sitemap推送" class="headerlink" title="sitemap推送"></a>sitemap推送</h5><p>很简单，把你之前生成的 sitemap.xml 在百度上提交即可</p><p>到此，主动推送三种方式具体如何实现到介绍完啦~</p><h2 id="拓展：robots-txt-文件的设置"><a href="#拓展：robots-txt-文件的设置" class="headerlink" title="拓展：robots.txt 文件的设置"></a>拓展：robots.txt 文件的设置</h2><p>以下是百度原话：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">一、使用说明</span><br><span class="line">  1. robots.txt可以告诉百度您网站的哪些页面可以被抓取，哪些页面不可以被抓取。</span><br><span class="line">  2. 您可以通过Robots工具来创建、校验、更新您的robots.txt文件，或查看您网站robots.txt文件在百度生效的情况。</span><br><span class="line">  3. Robots工具目前支持48k的文件内容检测，请保证您的robots.txt文件不要过大，目录最长不超过250个字符。</span><br><span class="line"></span><br><span class="line">二、什么是robots文件</span><br><span class="line">  Robots是站点与spider沟通的重要渠道，站点通过robots文件声明本网站中不想被搜索引擎收录的部分或者指定搜索引擎只收录特定的部分。</span><br><span class="line"></span><br><span class="line">  搜索引擎使用spider程序自动访问互联网上的网页并获取网页信息。spider在访问一个网站时，会首先会检查该网站的根域下是否有一个叫做 robots.txt的纯文本文件，这个文件用于指定spider在您网站上的抓取范围。您可以在您的网站中创建一个robots.txt，在文件中声明 该网站中不想被搜索引擎收录的部分或者指定搜索引擎只收录特定的部分。</span><br><span class="line"></span><br><span class="line">  请注意，仅当您的网站包含不希望被搜索引擎收录的内容时，才需要使用robots.txt文件。如果您希望搜索引擎收录网站上所有内容，请勿建立robots.txt文件。</span><br><span class="line"></span><br><span class="line">三、robots.txt文件放在哪里?</span><br><span class="line">  robots.txt文件应该放置在网站根目录下。举例来说，当spider访问一个网站（比如 http://www.abc.com）时，首先会检查该网站中是否存在http://www.abc.com/robots.txt这个文件，如果 Spider找到这个文件，它就会根据这个文件的内容，来确定它访问权限的范围。</span><br></pre></td></tr></table></figure><p>总的来说，就是如果你不想让百度爬你某些链接，你就得设置 robots.txt 文件<br>设置 robots.txt 可以防止大量垃圾链接提交给百度，提高你文章的权重<br>而且听说设置 rotbot.txt 可以提高收录概率，所以就算你没有不希望被爬取的内容，也可以设置一个空的 robots.txt 文件<br>若你没有不希望被爬取的内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /</span><br><span class="line"></span><br><span class="line">Sitemap: https://CodeObservatory.cn/baidusitemap.xml</span><br><span class="line">Sitemap: https://CodeObservatory.cn/sitemap.xml</span><br></pre></td></tr></table></figure><p>若你有不希望被爬取的内容<br>比如说，我的文章全部放在 &#x2F;archives 中，那么我就可以只让百度爬取我 &#x2F;archives 中的内容，具体设置如下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /archives</span><br><span class="line">Disallow: /</span><br><span class="line"></span><br><span class="line">Sitemap: https://CodeObservatory.cn/baidusitemap.xml</span><br><span class="line">Sitemap: https://CodeObservatory.cn/sitemap.xml</span><br></pre></td></tr></table></figure><p>Allow 的优先级大于 Disallow<br>最后可以放你的 sitemap.xml 文件链接<br>你可以通过以下步骤验证你的 robots.txt 文件是否配置成功</p><p>hexo g -d 后输入链接，看能否成功跳转到你的 robots.txt</p><p>在百度站长平台 robots 验证中检查显示成功即可。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;优化过程中踩了不少坑，这里记录一下，也希望能帮助到需要的人。&lt;/p&gt;
&lt;h2 id=&quot;优化文章url，便于收录&quot;&gt;&lt;a href=&quot;#优化文章url，便于收录&quot; class=&quot;headerlink&quot; title=&quot;优化文章url，便于收录&quot;&gt;&lt;/a&gt;优化文章url，便于收录</summary>
      
    
    
    
    <category term="博客教程" scheme="https://www.codeobservatory.cn/categories/%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="seo" scheme="https://www.codeobservatory.cn/tags/seo/"/>
    
    <category term="hexo" scheme="https://www.codeobservatory.cn/tags/hexo/"/>
    
    <category term="butterfly" scheme="https://www.codeobservatory.cn/tags/butterfly/"/>
    
  </entry>
  
  <entry>
    <title>C#中十种线程启动方式及其适用场景、优缺点分析</title>
    <link href="https://www.codeobservatory.cn/archives/74b7ef26.html"/>
    <id>https://www.codeobservatory.cn/archives/74b7ef26.html</id>
    <published>2024-07-24T08:59:35.000Z</published>
    <updated>2025-06-06T09:14:12.313Z</updated>
    
    <content type="html"><![CDATA[<p>C#提供了多种开启线程的方式，每种方式都有其独特的使用场景、优点和缺点。以下是C#中十种常见的开启线程的方式，以及它们各自的使用场景、优点和缺点：</p><h2 id="1-Thread类"><a href="#1-Thread类" class="headerlink" title="1.Thread类"></a>1.Thread类</h2><ul><li><p><strong>使用场景</strong>：快速启动执行简单任务。</p></li><li><p><strong>优点</strong>：简单易用。提供了直接控制线程的方法，如<code>Start、Suspend、Resume、Abort</code>等。</p></li><li><p><strong>缺点</strong>：功能较少，不适合复杂的线程管理；直接管理线程可能导致资源利用率不高或死锁等问题。</p></li></ul><h2 id="2-Task并行库"><a href="#2-Task并行库" class="headerlink" title="2.Task并行库"></a>2.Task并行库</h2><ul><li><p><strong>使用场景</strong>：需要更好的错误处理和任务管理。</p></li><li><p><strong>优点</strong>：提供了丰富的API，如<code>Task.Run、Task.WhenAll、Task.WhenAny</code>等，易于集成和使用；支持更复杂的并发模式，如取消、超时和错误处理。</p></li><li><p><strong>缺点</strong>：学习曲线较陡峭，需要掌握异步编程的概念。</p></li></ul><h2 id="3-BackgroundWorker组件"><a href="#3-BackgroundWorker组件" class="headerlink" title="3.BackgroundWorker组件"></a>3.BackgroundWorker组件</h2><ul><li><p><strong>使用场景</strong>：GUI应用中需要在后台执行任务，同时需要报告进度或处理异常。</p></li><li><p><strong>优点</strong>：支持进度更新和取消操作；自动将工作线程上的异常封送到UI线程，便于处理。</p></li><li><p><strong>缺点</strong>：较老的技术，可能在未来的.NET版本中逐渐淘汰；功能相对有限，不如Task并行库灵活。</p></li></ul><h2 id="4-ThreadPool"><a href="#4-ThreadPool" class="headerlink" title="4.ThreadPool"></a>4.ThreadPool</h2><ul><li><p><strong>使用场景</strong>：需要高效利用线程池资源，执行大量短时间的任务。</p></li><li><p><strong>优点</strong>：减少了线程创建和销毁的开销；提高了系统的响应性和吞吐量。</p></li><li><p><strong>缺点</strong>：控制度较低，不适合长时间运行的任务；可能因为线程池资源耗尽而导致任务等待。</p></li></ul><h2 id="5-Timer类"><a href="#5-Timer类" class="headerlink" title="5.Timer类"></a>5.Timer类</h2><ul><li><p><strong>使用场景</strong>：需要周期性执行任务。</p></li><li><p><strong>优点</strong>：简单实现周期性任务；可以在指定的时间间隔后执行回调方法。</p></li><li><p><strong>缺点</strong>：精度受限于系统计时器；长时间运行可能会导致资源消耗过多。</p></li></ul><h2 id="6-async和await"><a href="#6-async和await" class="headerlink" title="6.async和await"></a>6.async和await</h2><ul><li><p><strong>使用场景</strong>：需要简化异步代码，提高代码的可读性和可维护性。</p></li><li><p><strong>优点</strong>：代码更易读易维护；简化了异步编程的复杂性。</p></li><li><p><strong>缺点</strong>：需要.NET 4.5或更高版本；可能会导致死锁，特别是在GUI应用中。</p></li></ul><h2 id="7-Parallel类"><a href="#7-Parallel类" class="headerlink" title="7.Parallel类"></a>7.Parallel类</h2><ul><li><p><strong>使用场景</strong>：需要对数据集合进行并行处理，以提高性能。</p></li><li><p><strong>优点</strong>：简化了并行代码编写。提供了丰富的并行操作API，如<code>Parallel.For、Parallel.ForEach、Parallel.Sum</code>等。</p></li><li><p><strong>缺点</strong>：可能增加线程管理开销；需要考虑数据划分和合并的问题。</p></li></ul><h2 id="8-ThreadLocal"><a href="#8-ThreadLocal" class="headerlink" title="8.ThreadLocal"></a>8.ThreadLocal</h2><ul><li><p><strong>使用场景</strong>：需要线程安全的局部数据存储。</p></li><li><p><strong>优点</strong>：线程安全，避免数据竞争；提供了独立的数据副本给每个线程。</p></li><li><p><strong>缺点</strong>：管理不当可能导致资源泄露；需要手动清理不再需要的数据副本。</p></li></ul><h2 id="9-Lazy"><a href="#9-Lazy" class="headerlink" title="9.Lazy"></a>9.Lazy</h2><ul><li><p><strong>使用场景</strong>：需要延迟初始化对象，以节省资源或处理耗时的初始化任务。</p></li><li><p><strong>优点</strong>：延迟初始化，节省资源；提高了应用的启动速度。</p></li><li><p><strong>缺点</strong>：首次访问时可能引入延迟；需要考虑线程安全问题（尽管Lazy<T>本身是线程安全的）。</T></p></li></ul><h2 id="10-PLINQ"><a href="#10-PLINQ" class="headerlink" title="10.PLINQ"></a>10.PLINQ</h2><ul><li><p><strong>使用场景</strong>：对大数据集进行LINQ查询，并希望利用多核处理器提高查询效率。</p></li><li><p><strong>优点</strong>：利用多核处理器提高查询效率；简化了并行查询的编写。</p></li><li><p><strong>缺点</strong>：并行执行可能增加线程管理开销；需要考虑数据分区和聚合的策略。</p></li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>C#提供了多种开启线程的方式，每种方式都有其特定的使用场景和优缺点。开发者在选择时应根据实际需求、性能要求和可维护性等因素进行综合考虑。</p>]]></content>
    
    
    <summary type="html">提供了丰富的API，如Task.Run、Task.WhenAll、Task.WhenAny等，易于集成和使用；C#提供了多种开启线程的方式，每种方式都有其独特的使用场景、优点和缺点。提供了丰富的并行操作API，如Parallel.For、Parallel.ForEach、Parallel.Sum等。</summary>
    
    
    
    <category term="后端开发" scheme="https://www.codeobservatory.cn/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="C#" scheme="https://www.codeobservatory.cn/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>Visual Studio2022安装SVN插件</title>
    <link href="https://www.codeobservatory.cn/archives/4e81b362.html"/>
    <id>https://www.codeobservatory.cn/archives/4e81b362.html</id>
    <published>2024-07-19T02:57:45.000Z</published>
    <updated>2025-06-03T03:09:11.979Z</updated>
    
    <content type="html"><![CDATA[<p>前言</p><p>需要电脑中装有SVN并能正常使用。</p><p>具体步骤</p><p>1.下载插件VisualSVN  下载链接:<a href="https://www.visualsvn.com/visualsvn/download/">https://www.visualsvn.com/visualsvn/download/</a></p><p>1721399581790.jpg</p><p>2.安装</p><p>双击打开下载的vsix文件一路安装即可。</p><p>注意：下载后安装时要确保VS关闭，否则无法配置。</p><p>1721399456280.jpg</p><p>3.安装成功后打开Visual Studio2022可以看到上方选项卡出现svn插件就可以使用啦。</p><p>1721400127425.jpg</p><p>1721400216921.jpg</p><p>4.点击Update更新代码，方便的很</p><p>1721400281590.jpg</p><p>更新成功！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前言&lt;/p&gt;
&lt;p&gt;需要电脑中装有SVN并能正常使用。&lt;/p&gt;
&lt;p&gt;具体步骤&lt;/p&gt;
&lt;p&gt;1.下载插件VisualSVN  下载链接:&lt;a href=&quot;https://www.visualsvn.com/visualsvn/download/&quot;&gt;https://www.</summary>
      
    
    
    
    <category term="技术分享" scheme="https://www.codeobservatory.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="vs" scheme="https://www.codeobservatory.cn/tags/vs/"/>
    
    <category term="svn" scheme="https://www.codeobservatory.cn/tags/svn/"/>
    
  </entry>
  
  <entry>
    <title>网页图片异步加载</title>
    <link href="https://www.codeobservatory.cn/archives/edf8539a.html"/>
    <id>https://www.codeobservatory.cn/archives/edf8539a.html</id>
    <published>2024-05-27T09:14:41.000Z</published>
    <updated>2025-06-06T09:24:44.084Z</updated>
    
    <content type="html"><![CDATA[<p>在当今数字化时代，网页加载速度对于用户体验至关重要。其中，图片作为网页内容的重要组成部分，其加载方式对于网页性能有着显著影响。异步加载作为一种优化手段，能够有效提升网页图片的加载速度和用户体验。本文将深入探讨网页图片异步加载的原理、实现方式以及实际应用效果。</p><p>首先，我们需要了解网页图片异步加载的基本原理。异步加载是指在不影响页面其他内容加载的情况下，将图片的加载过程放在后台进行。当浏览器解析到图片标签时，不会立即下载图片，而是将图片请求放入队列中，待其他资源加载完毕后再进行图片的加载。这种方式可以有效避免由于图片加载导致的页面阻塞和延迟，从而提升页面的整体加载速度。</p><p>实现网页图片异步加载的方式有多种，其中比较常用的是使用JavaScript进行图片懒加载。懒加载的核心思想是延迟图片的加载时间，只有当图片出现在视口范围内时才开始加载。具体实现时，可以通过监听滚动事件或<code>Intersection Observer API</code>来判断图片是否进入视口，然后动态地改变图片的src属性或进行图片的加载。此外，还有一些第三方库如<code>lozad.js</code>、<code>vue-lazyload</code>等提供了更简便的懒加载实现方式，可以方便地集成到项目中。</p><p>除了懒加载外，还有其他一些技术可以实现网页图片异步加载。例如，使用CDN加速图片的加载速度；对图片进行压缩和优化，减少图片的大小和加载时间；利用图片格式转换技术，选择更适合的图片格式以减小文件大小等。这些技术可以与其他异步加载方式相结合，进一步提升网页图片加载的性能。</p><p><strong>实例</strong>：</p><p>获取视窗的高度和宽度：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _viewPortHeight = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>, <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="number">0</span>),</span><br><span class="line">    _viewPortWidth = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span>, <span class="variable language_">window</span>.<span class="property">innerWidth</span> || <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>是否处于垂直范围</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isOnVerticalViewPort</span>(<span class="params">ele</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> rect = ele.<span class="title function_">getBoundingClientRect</span>(); <span class="comment">// 获取距离视窗的位置信息</span></span><br><span class="line">    <span class="keyword">return</span> rect.<span class="property">top</span> &gt; <span class="number">0</span> &amp;&amp; rect.<span class="property">top</span> &lt;= _viewPortHeight;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>是否处于水平范围</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isOnHorizontalViewPort</span>(<span class="params">ele</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> rect = ele.<span class="title function_">getBoundingClientRect</span>();</span><br><span class="line">        <span class="keyword">return</span> rect.<span class="property">left</span> &gt; <span class="number">0</span> &amp;&amp; rect.<span class="property">left</span> &lt;= _viewPortWidth;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>有了这核心代码，我们只需要在滚动事件触发后，去动态的判断img元素了, 判断的示例代码如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">load</span>(<span class="params">images</span>) &#123;   </span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; images.<span class="property">length</span>; i++) &#123;</span><br><span class="line">         <span class="keyword">var</span> img = images[i];</span><br><span class="line">         <span class="keyword">if</span> (<span class="title function_">isOnVerticalViewPort</span>(img) &amp;&amp; <span class="title function_">isOnHorizontalViewPort</span>(img)) &#123;</span><br><span class="line">                     <span class="keyword">var</span> url = img.<span class="title function_">getAttribute</span>(<span class="string">&#x27;lz-src&#x27;</span>); <span class="comment">// 获取图片资源的地址</span></span><br><span class="line">            img.<span class="title function_">setAttribute</span>(<span class="string">&quot;src&quot;</span>, url);</span><br><span class="line">            img.<span class="property">isload</span> = <span class="literal">true</span>; <span class="comment">// 加载过后的图片设置加载标记，以免重复加载</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在html页面中的img元素的引用：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">lz-src</span>=<span class="string">&quot;/images/2024/5/5391b771eb1f31df.png&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>通过给img元素添加<code>lz-src</code>标记，告诉异步脚本，这个元素需要异步加载图片。</p><p>监听滚动事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> images = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;img[&#x27;</span> + lz-src + <span class="string">&#x27;]&#x27;</span>); <span class="comment">// 按标记获取图片元素</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;scroll&quot;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;        <span class="title function_">load</span>(images);</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>在实际应用中，网页图片异步加载能够带来显著的效果。首先，它能够提升页面的加载速度，减少用户等待时间，从而提升用户体验。其次，异步加载能够减轻服务器的负担，降低带宽成本。由于图片加载被分散到不同的时间段进行，服务器的并发请求压力会相应减小，有利于提升网站的整体性能和稳定性。此外，异步加载还能够提高页面的响应性和交互性，使得用户在浏览网页时能够更流畅地进行操作和浏览。</p><p>然而，需要注意的是，虽然异步加载带来了诸多优势，但并非所有情况都适用。在一些需要快速展示图片的场景中，如新闻、电商等网站的首页或详情页，可能更倾向于使用同步加载以确保图片的及时呈现。因此，在选择是否使用异步加载时，需要根据具体需求和场景进行权衡和选择。</p><p>综上所述，网页图片异步加载是一种有效的优化手段，能够提升网页加载速度和用户体验。通过了解异步加载的原理和实现方式，我们可以根据实际需求选择合适的技术进行应用。同时，我们也需要关注异步加载可能带来的问题，并采取相应的措施进行解决。</p>]]></content>
    
    
    <summary type="html">这篇文章主要介绍了网页图片异步加载的原理、实现方式及其实际应用效果，强调了其在提升网页加载速度和用户体验方面的重要性。文章首先解释了异步加载的基本原理，即在不影响页面其他内容加载的情况下，在后台进行图片加载。接着，详细探讨了使用JavaScript实现图片懒加载的方法，包括监听滚动事件和使用`Intersection Observer API`来判断图片是否进入视口，并动态改变图片的src属性。此外，还介绍了其他优化技术，如使用CDN加速、图片压缩和优化、选择合适的图片格式等。文章通过实例代码展示了如何实现懒加载，并讨论了异步加载在实际应用中的显著效果，如提升页面加载速度、减轻服务器负担、提高页面响应性和交互性。最后，文章指出虽然异步加载有诸多优势，但在某些需要快速展示图片的场景中，可能需要使用同步加载，强调了根据具体需求选择合适技术的重要性。</summary>
    
    
    
    <category term="前端开发" scheme="https://www.codeobservatory.cn/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="异步" scheme="https://www.codeobservatory.cn/tags/%E5%BC%82%E6%AD%A5/"/>
    
    <category term="图片加载" scheme="https://www.codeobservatory.cn/tags/%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>网站部署到IIS后 Global.asax代码不执行究竟是为什么?</title>
    <link href="https://www.codeobservatory.cn/archives/b7db24a0.html"/>
    <id>https://www.codeobservatory.cn/archives/b7db24a0.html</id>
    <published>2024-03-27T01:32:12.000Z</published>
    <updated>2025-06-11T02:46:54.714Z</updated>
    
    <content type="html"><![CDATA[<p>Global.asax 用过的人都知道，记录点击量，伪静态非常好用，还可以定义计时器，自动执行函数！ 但是有没有人遇到这种情况，发布到服务器后，Global.asax跟禁用一样，里面的代码都不走了，根本就没执行Global.asax这个文件。 </p><p>然后我在网上查找了很多解决方案，简直五花八门的都有：</p><h2 id="网上找的解决方法："><a href="#网上找的解决方法：" class="headerlink" title="网上找的解决方法："></a>网上找的解决方法：</h2><ol><li>给web应用的根目录设置ASPNET和Network Services权限</li><li>如果是已发布的站点 Global.asax 不执行 Application_Start 问题</li></ol><ul><li>发布的站点 根目录有PrecompiledApp.config  造成冲突  删除后可以正常运行 </li><li>PrecompiledApp.config 是预编绎网站 生成的文件 一般情况用不到</li></ul><ol start="3"><li>如果是未编译站点。</li></ol><p>在vs中把asp.net Development Server 停止后在重新启动。</p><blockquote><p>然而却并没有什么卵用。</p></blockquote><h2 id="静下心来思考："><a href="#静下心来思考：" class="headerlink" title="静下心来思考："></a>静下心来思考：</h2><p>正常网站发布除了Global.asax以外，在编译的时候bin文件夹下会生成一个dll文件：App_global.asax.dll。</p><p><img src="https://images.codeobservatory.cn/hexo/202506/11/32c136415403c241.png" alt="网站部署到IIS后 Global.asax代码不执行究竟是为什么?"></p><p>这些文件都会一起打包部署到服务器上，网站才能正常运行。经过一一排查后发现，要执行Global.asax文件，必须还要将这个文件一起打包放到服务器里面：<code>App_global.asax.compiled</code>，没有这个文件，就不会执行Global.asax文件，所以当我把这个文件复制粘贴到服务器上之后，Global.asax文件就被执行了。这是一个小小的细节，当时没有注意到，其实很简单的一个问题。</p><h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>要执行Global.asax文件，必不可少的两个文件不能丢【<code>App_global.asax.compiled</code>、<code>App_global.asax.dll</code>】，大家如果也遇到这种情况，赶快去检查一下吧~</p><p><img src="https://images.codeobservatory.cn/hexo/202506/11/2d5697ef70735842.png" alt="网站部署到IIS后 Global.asax代码不执行究竟是为什么?"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Global.asax 用过的人都知道，记录点击量，伪静态非常好用，还可以定义计时器，自动执行函数！ 但是有没有人遇到这种情况，发布到服务器后，Global.asax跟禁用一样，里面的代码都不走了，根本就没执行Global.asax这个文件。 &lt;/p&gt;
&lt;p&gt;然后我在网上查</summary>
      
    
    
    
    <category term="技术分享" scheme="https://www.codeobservatory.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="IIS" scheme="https://www.codeobservatory.cn/tags/IIS/"/>
    
    <category term="Global" scheme="https://www.codeobservatory.cn/tags/Global/"/>
    
  </entry>
  
  <entry>
    <title>.net解决伪静态下，html页面无法访问</title>
    <link href="https://www.codeobservatory.cn/archives/e4ed615.html"/>
    <id>https://www.codeobservatory.cn/archives/e4ed615.html</id>
    <published>2024-03-23T02:27:27.000Z</published>
    <updated>2025-06-10T02:32:10.712Z</updated>
    
    <content type="html"><![CDATA[<p>错误信息：</p><p>There is no build provider registered for the extension ‘.html’. You can register one in the <compilation><buildProviders> section in machine.config or web.config. Make sure is has a BuildProviderAppliesToAttribute attribute which includes the value ‘Web’ or ‘All’.</buildProviders></compilation></p><p>Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. </p><p>Exception Details: System.Web.HttpException: There is no build provider registered for the extension ‘.html’. You can register one in the <compilation><buildProviders> section in machine.config or web.config. Make sure is has a BuildProviderAppliesToAttribute attribute which includes the value ‘Web’ or ‘All’.</buildProviders></compilation></p><p><img src="https://images.codeobservatory.cn/hexo/202506/10/6e774917c7861861.png" alt="网页报错截图"></p><p>解决方案：</p><p>1、在&lt;system.webServer&gt;节点下添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">handlers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;GreenHandlers&quot;</span> <span class="attr">verb</span>=<span class="string">&quot;*&quot;</span> <span class="attr">path</span>=<span class="string">&quot;*.aspx&quot;</span> <span class="attr">type</span>=<span class="string">&quot;URLRewriter.RewriterFactoryHandler, URLRewriter&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;MobileHandlers&quot;</span> <span class="attr">verb</span>=<span class="string">&quot;*&quot;</span> <span class="attr">path</span>=<span class="string">&quot;*.html&quot;</span> <span class="attr">type</span>=<span class="string">&quot;URLRewriter.RewriterFactoryHandler, URLRewriter&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">handlers</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2、在<compilation debug="true">节点下添加：</compilation></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--URL重写文件设置开始--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">buildProviders</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">add</span> <span class="attr">extension</span>=<span class="string">&quot;.html&quot;</span> <span class="attr">type</span>=<span class="string">&quot;System.Web.Compilation.PageBuildProvider&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">buildProviders</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--URL重写文件设置结束--&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;错误信息：&lt;/p&gt;
&lt;p&gt;There is no build provider registered for the extension ‘.html’. You can register one in the &lt;compilation&gt;&lt;buildProviders&gt; s</summary>
      
    
    
    
    <category term="技术分享" scheme="https://www.codeobservatory.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term=".net" scheme="https://www.codeobservatory.cn/tags/net/"/>
    
    <category term="伪静态" scheme="https://www.codeobservatory.cn/tags/%E4%BC%AA%E9%9D%99%E6%80%81/"/>
    
  </entry>
  
  <entry>
    <title>服务器iis配置mime类型导致访问图片地址出现乱码（500错误）</title>
    <link href="https://www.codeobservatory.cn/archives/18e2c313.html"/>
    <id>https://www.codeobservatory.cn/archives/18e2c313.html</id>
    <published>2024-03-23T01:20:19.000Z</published>
    <updated>2025-06-11T01:31:02.460Z</updated>
    
    <content type="html"><![CDATA[<p>最近做项目时，遇到一个问题：</p><p>平时我们在项目交付前都是放在我们自己的服务器上面进行测试和调整的，客户确认后，才会上线。当我将项目迁移到客户服务器后，发现原本正常的网站，现在有些图片无法显示了，F12发现都报500服务器错误，单独访问一个图片显示乱码，无法正常查看图片，很是奇怪。</p><p><img src="https://images.codeobservatory.cn/hexo/202506/11/99748c247eb8f2d7.jpg"></p><p>尝试了一个下午，最终发现上传图片的文件夹里多了一个文件：web.config</p><p><img src="https://images.codeobservatory.cn/hexo/202506/11/353a6ed594b9807a.jpg"></p><p>web.config内容：</p><p><img src="https://images.codeobservatory.cn/hexo/202506/11/49e68b447df33a38.png"></p><p>原因是:配置mine类型导致存放图片目录多了一个web.config文件</p><p><img src="https://images.codeobservatory.cn/hexo/202506/11/c57d9700df0da0bf.jpg"><br><img src="https://images.codeobservatory.cn/hexo/202506/11/43f41f8e0a41b7b3.jpg"></p><p>删除web.config再次访问发现不乱码了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近做项目时，遇到一个问题：&lt;/p&gt;
&lt;p&gt;平时我们在项目交付前都是放在我们自己的服务器上面进行测试和调整的，客户确认后，才会上线。当我将项目迁移到客户服务器后，发现原本正常的网站，现在有些图片无法显示了，F12发现都报500服务器错误，单独访问一个图片显示乱码，无法正常查</summary>
      
    
    
    
    <category term="技术分享" scheme="https://www.codeobservatory.cn/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/"/>
    
    
    <category term="IIS" scheme="https://www.codeobservatory.cn/tags/IIS/"/>
    
    <category term="mime" scheme="https://www.codeobservatory.cn/tags/mime/"/>
    
  </entry>
  
  <entry>
    <title>C#接口</title>
    <link href="https://www.codeobservatory.cn/archives/d4f642a0.html"/>
    <id>https://www.codeobservatory.cn/archives/d4f642a0.html</id>
    <published>2024-03-23T01:17:09.000Z</published>
    <updated>2025-06-11T01:30:57.283Z</updated>
    
    <content type="html"><![CDATA[<p>今天就来简单的介绍下接口的基本概念及用法：</p><h2 id="1、接口的概念及声明"><a href="#1、接口的概念及声明" class="headerlink" title="1、接口的概念及声明"></a>1、接口的概念及声明</h2><p>接口是一种用来定义程序的协议，它描述可属于任何类或结构的一组相关行为。接口可有方法、属性、事件和索引器或这四种成员的任何组合类型，但不能包含字段。</p><p>那么接口具有哪些特点呢？</p><ul><li>接口类似于抽象基类：继承接口的任何非抽象类型都必须实现接口的所有成员(说明：如类A继承接口B，那么A中必须实现B中定义的属性，方法等)。</li><li>不能直接实例化接口</li><li>接口可以包含事件、索引器、方法和属性</li><li>接口不包含方法的实现</li><li>类和接口可以从多个接口继承</li><li>接口自身可以继承多个接口</li></ul><p>在声明接口时除了Interface和接口名称是必须的，其他都是可选项。另可使用new、public、protected、intenal和private等修饰符实现接口，但接口成员必须是公共的。</p><h2 id="2、接口的实现与继承"><a href="#2、接口的实现与继承" class="headerlink" title="2、接口的实现与继承"></a>2、接口的实现与继承</h2><p>声明实现接口的类时，需要在基类列表中包含类所实现的接口的名称。</p><p>下面举个小例子来探讨下：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> _</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title">ImyInterface</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 编号（可读可写）</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="built_in">string</span> ID</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 姓名（可读可写）</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="built_in">string</span> Name</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 显示定义的编号和姓名</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">ShowInfo</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>:<span class="title">ImyInterface</span><span class="comment">//继承自接口</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> id = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="built_in">string</span> name = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 编号</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> ID</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> id;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span></span><br><span class="line">            &#123;</span><br><span class="line">                id = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 姓名</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> name;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span></span><br><span class="line">            &#123;</span><br><span class="line">                name = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 显示定义的编号和姓名</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowInfo</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;编号\t 姓名&quot;</span>);</span><br><span class="line">            Console.WriteLine(ID + <span class="string">&quot;\t &quot;</span> + Name);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Program program = <span class="keyword">new</span> Program();               <span class="comment">//实例化Program类对象</span></span><br><span class="line">            ImyInterface imyinterface = program;           <span class="comment">//使用派生类对象实例化接口ImyInterface</span></span><br><span class="line">            imyinterface.ID = <span class="string">&quot;TM&quot;</span>;                        <span class="comment">//为派生类中的ID属性赋值</span></span><br><span class="line">            imyinterface.Name = <span class="string">&quot;C# 2.0从入门到应用开发&quot;</span>;  <span class="comment">//为派生类中的Name属性赋值</span></span><br><span class="line">            imyinterface.ShowInfo();                       <span class="comment">//调用派生类中方法显示定义的属性值</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的这个例子是一个简单的一个类继承一个接口，如要实现接口类中对应的成员必须是公共的、非静态的，并且与接口成员具有相同的名称和签名。并且接口的实例化不能像类那样Program program &#x3D; new Program();其中上述程序中红色部分即为接口的实例化(使用派生类对象实例化接口)。</p><p>单一继承时这样的，那么多重继承呢？OK，我们来看下个例子：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> _</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title">IPeople</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 姓名</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="built_in">string</span> Name</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 性别</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="built_in">string</span> Sex</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span>;</span><br><span class="line">            <span class="keyword">set</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title">ITeacher</span>:<span class="title">IPeople</span>            <span class="comment">//继承公共接口</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 教学方法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">teach</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title">IStudent</span>:<span class="title">IPeople</span>            <span class="comment">//继承公共接口</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 学习方法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">study</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span>:<span class="title">IPeople</span>,<span class="title">ITeacher</span>,<span class="title">IStudent</span><span class="comment">//多接口继承</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> name = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="built_in">string</span> sex = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 姓名</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> name;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span></span><br><span class="line">            &#123;</span><br><span class="line">                name = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 性别</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Sex</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> sex;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">set</span></span><br><span class="line">            &#123;</span><br><span class="line">                sex = <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 教学方法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">teach</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(Name + <span class="string">&quot; &quot;</span> + Sex + <span class="string">&quot; 教师&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 学习方法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">study</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(Name + <span class="string">&quot; &quot;</span> + Sex + <span class="string">&quot; 学生&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Program program = <span class="keyword">new</span> Program();   <span class="comment">//实例化类对象</span></span><br><span class="line">            ITeacher iteacher = program;       <span class="comment">//使用派生类对象实例化接口ITeacher</span></span><br><span class="line">            iteacher.Name = <span class="string">&quot;TM&quot;</span>;</span><br><span class="line">            iteacher.Sex = <span class="string">&quot;男&quot;</span>;</span><br><span class="line">            iteacher.teach();</span><br><span class="line">            IStudent istudent = program;       <span class="comment">//使用派生类对象实例化接口IStudent</span></span><br><span class="line">            istudent.Name = <span class="string">&quot;C#&quot;</span>;</span><br><span class="line">            istudent.Sex = <span class="string">&quot;男&quot;</span>;</span><br><span class="line">            istudent.study();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上述的多重继承中说明了，在派生类中必须实现所继承的接口中的所有方法。OK，单一继承和多重继承都有了了解之后，是不是没有其他的需要了解的呢？试想一下，如果在一个类A继承自接口B和C，并且在B和C中包含具有相同签名的成员，那么在类中实现该成员将导致两个接口都使用该成员作为他们的实现，然而，如果两个接口成员实现不同的功能，那么将会导致一个接口的成员实现不正确或两个接口的成员实现都不正确，这个时候我们应该如何处理呢？我们可以显示的实现接口成员，即创建一个仅通过接口调用并且特定于该接口的类成员。</p><p>下面也是一个通过一个实例来说明</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> _</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title">ImyInterface1</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 求和方法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>加法运算的和<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="built_in">int</span> <span class="title">Add</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">interface</span> <span class="title">ImyInterface2</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 求和方法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>加法运算的和<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="built_in">int</span> <span class="title">Add</span>()</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">myClass</span> : <span class="title">ImyInterface1</span>, <span class="title">ImyInterface2</span>    <span class="comment">//继承接口</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 求和方法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>加法运算的和<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="built_in">int</span> ImyInterface1.Add()                     <span class="comment">//显式接口成员实现</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> x = <span class="number">3</span>;</span><br><span class="line">            <span class="built_in">int</span> y = <span class="number">5</span>;</span><br><span class="line">            <span class="keyword">return</span> x + y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 求和方法</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>加法运算的和<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="built_in">int</span> ImyInterface2.Add()                      <span class="comment">//显式接口成员实现</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> x = <span class="number">3</span>;</span><br><span class="line">            <span class="built_in">int</span> y = <span class="number">5</span>;</span><br><span class="line">            <span class="built_in">int</span> z = <span class="number">7</span>;</span><br><span class="line">            <span class="keyword">return</span> x + y + z;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            myClass myclass = <span class="keyword">new</span> myClass();          <span class="comment">//实例化接口继承类的对象</span></span><br><span class="line">            ImyInterface1 imyinterface1 = myclass;    <span class="comment">//使用接口继承类的对象实例化接口</span></span><br><span class="line">            Console.WriteLine(imyinterface1.Add());   <span class="comment">//使用接口对象调用接口中方法</span></span><br><span class="line">            ImyInterface2 imyinterface2 = myclass;    <span class="comment">//使用接口继承类的对象实例化接口</span></span><br><span class="line">            Console.WriteLine(imyinterface2.Add());   <span class="comment">//使用接口对象调用接口中方法</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的实例中在Myclass类中，通过两个显示接口成员的方法分别实现了两个接口中的Add方法，在实例化不同的接口后，调用相应的方法实现输出结果。</p>]]></content>
    
    
    <summary type="html">这篇文章主要介绍了C#接口的基本概念、特点、声明方式以及实现与继承的相关知识。文章首先阐述了接口的定义，指出接口是一种定义程序协议的机制，包含方法、属性、事件和索引器等成员，但不能包含字段。接着详细说明了接口的特点，如不能直接实例化、可以包含多种成员类型、不包含方法实现等。文章通过具体代码示例展示了接口的实现过程，包括单一继承和多重继承的情况，并解释了在多重继承中如何处理具有相同签名的接口成员问题，强调了显式实现接口成员的方法。</summary>
    
    
    
    <category term="后端开发" scheme="https://www.codeobservatory.cn/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="C#" scheme="https://www.codeobservatory.cn/tags/C/"/>
    
    <category term="接口" scheme="https://www.codeobservatory.cn/tags/%E6%8E%A5%E5%8F%A3/"/>
    
  </entry>
  
  <entry>
    <title>c#中 Exception of type &#39;System.OutOfMemoryException&#39; was throw的解决办法</title>
    <link href="https://www.codeobservatory.cn/archives/1d372068.html"/>
    <id>https://www.codeobservatory.cn/archives/1d372068.html</id>
    <published>2024-03-23T01:12:25.000Z</published>
    <updated>2025-06-11T01:31:29.251Z</updated>
    
    <content type="html"><![CDATA[<p>对基于.net的webservice一旦同一时间段操作的人比较多的时候(并发数比较多时)，并且处理的数据量比较大时，就会抛出如下错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Server Error <span class="keyword">in</span> <span class="string">&#x27;/&#x27;</span> Application.</span><br><span class="line"></span><br><span class="line">  Exception of <span class="built_in">type</span> <span class="string">&#x27;System.OutOfMemoryException&#x27;</span> was thrown. </span><br><span class="line">  Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace <span class="keyword">for</span> more information about the error and <span class="built_in">where</span> it originated <span class="keyword">in</span> the code.</span><br><span class="line"></span><br><span class="line">  Exception Details: System.OutOfMemoryException: Exception of <span class="built_in">type</span> <span class="string">&#x27;System.OutOfMemoryException&#x27;</span> was thrown.</span><br></pre></td></tr></table></figure><p>开始的时候，以为是程序错误，后来发现，所有的画面就有这个错误，于是，就估计是服务器的问题，于是就试着将IIS重新启动，果然问题解决了</p><p>可是，治标不治本，后来的几天，每天都会不定时的抛出这个错误，终于意识到，这个肯定不是偶然的，于是开始上网搜索对应的解决方法。终于找到了正确的方法</p><ol><li><p>查找到服务器对应的路径下的：C:\Windows\Microsoft.NET\Framework\v4.0.30319（注意对应的framework版本）–&gt;Aspnet.config</p></li><li><p>在<runtime> 节点下添加<gcServer enabled="false">这句话即可</gcServer></runtime></p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">runtime</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">gcServer</span> <span class="attr">enabled</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">legacyUnhandledExceptionPolicy</span> <span class="attr">enabled</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">legacyImpersonationPolicy</span> <span class="attr">enabled</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alwaysFlowImpersonationPolicy</span> <span class="attr">enabled</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">SymbolReadingPolicy</span> <span class="attr">enabled</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">shadowCopyVerifyByTimestamp</span> <span class="attr">enabled</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">runtime</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">startup</span> <span class="attr">useLegacyV2RuntimeActivationPolicy</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;对基于.net的webservice一旦同一时间段操作的人比较多的时候(并发数比较多时)，并且处理的数据量比较大时，就会抛出如下错误：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre</summary>
      
    
    
    
    <category term="后端开发" scheme="https://www.codeobservatory.cn/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="C#" scheme="https://www.codeobservatory.cn/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>C#实现异步的常用方式总结</title>
    <link href="https://www.codeobservatory.cn/archives/df342274.html"/>
    <id>https://www.codeobservatory.cn/archives/df342274.html</id>
    <published>2024-03-22T02:18:48.000Z</published>
    <updated>2025-06-10T02:24:48.977Z</updated>
    
    <content type="html"><![CDATA[<p>微信群里的一个提问引发的这个问题，C#异步有多少种实现方式？首先想要知道C#异步有多少中实现方式，首先我们要知道.NET提供的执行异步操作的三种模式，然后再去了解C#异步实现的方式。</p><h2 id="NET异步编程模式"><a href="#NET异步编程模式" class="headerlink" title=".NET异步编程模式"></a>.NET异步编程模式</h2><p><strong>.NET 提供了执行异步操作的三种模式：</strong></p><ul><li>基于任务的异步模式 (TAP) ，该模式使用单一方法表示异步操作的开始和完成。TAP 是在 .NET Framework 4 中引入的。 这是在 .NET 中进行异步编程的推荐方法。C# 中的 async 和 await 关键词以及 Visual Basic 中的 Async 和 Await 运算符为 TAP 添加了语言支持。有关详细信息，请参阅基于任务的异步模式 (TAP)。</li><li>基于事件的异步模式 (EAP)，是提供异步行为的基于事件的旧模型。这种模式需要后缀为 Async 的方法，以及一个或多个事件、事件处理程序委托类型和 EventArg 派生类型。EAP 是在 .NET Framework 2.0 中引入的。建议新开发中不再使用这种模式。有关详细信息，请参阅基于事件的异步模式 (EAP)。</li><li>异步编程模型 (APM) 模式（也称为 IAsyncResult 模式），这是使用 IAsyncResult 接口提供异步行为的旧模型。在这种模式下，同步操作需要 Begin 和 End 方法（例如，BeginWrite 和 EndWrite以实现异步写入操作）。不建议新的开发使用此模式。有关详细信息，请参阅异步编程模型 (APM)。</li></ul><h2 id="C-异步有四种实现方式"><a href="#C-异步有四种实现方式" class="headerlink" title="C#异步有四种实现方式"></a>C#异步有四种实现方式</h2><p><strong>C# 异步有多种实现方式，可归纳为以下几类：</strong></p><h3 id="1、异步方法（Async-Method-TAP模式）"><a href="#1、异步方法（Async-Method-TAP模式）" class="headerlink" title="1、异步方法（Async Method TAP模式）"></a>1、异步方法（Async Method TAP模式）</h3><p>使用async&#x2F;await关键字实现异步编程，这是比较常用的一种异步实现方式。例如：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">TestDoSomeAsync</span>()</span>    &#123;  </span><br><span class="line">      <span class="keyword">await</span> Task.Delay(<span class="number">1000</span>);      </span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Async method completed.&quot;</span>);  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="2、任务并行库（TPL-Task-Parallel-Library-TAP模式）"><a href="#2、任务并行库（TPL-Task-Parallel-Library-TAP模式）" class="headerlink" title="2、任务并行库（TPL, Task Parallel Library TAP模式）"></a>2、任务并行库（TPL, Task Parallel Library TAP模式）</h3><p>通过 Task 和 Task<T> 类型实现异步编程，可以利用多核处理器，并发执行多个独立的任务。例如：</T></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">async</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span>    &#123;      </span><br><span class="line">  <span class="keyword">await</span> Task.Run(() =&gt;        &#123;           </span><br><span class="line">   Console.WriteLine(<span class="string">&quot;Test Task 1 completed.&quot;</span>);  </span><br><span class="line">         &#125;);     </span><br><span class="line">            <span class="keyword">await</span> Task.Run(() =&gt;        &#123;    </span><br><span class="line">                    Console.WriteLine(<span class="string">&quot;Test Task 2 completed.&quot;</span>);   </span><br><span class="line">                         &#125;);       </span><br><span class="line">                          <span class="comment">// 等待所有任务完成     </span></span><br><span class="line">                             Task.WaitAll();  </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="3、Asynchronous-Programming-Model（APM模式）"><a href="#3、Asynchronous-Programming-Model（APM模式）" class="headerlink" title="3、Asynchronous Programming Model（APM模式）"></a>3、Asynchronous Programming Model（APM模式）</h3><p>是一种经典的异步编程模式，需要手动创建回调函数，用于处理完成或错误的通知。可以通过 IAsyncResult 设计模式的 Begin 和 End 方法来实现，其中 Begin 方法开始异步操作，而 End 方法在异步操作完成时执行，并返回异步操作的结果。</p><p>需要注意的是，APM 模式通过 IAsyncResult 接口来存储异步操作的状态和结果，相对比较复杂，代码量也较大。同时，在使用 APM 模式时，还需要手动处理回调函数和等待异步操作完成等细节工作，使得开发起来相对较为繁琐。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Program</span>    &#123;     </span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span>        &#123;     </span><br><span class="line">         <span class="comment">// 创建异步操作类实例         </span></span><br><span class="line">            MyAsyncClass asyncClass = <span class="keyword">new</span> MyAsyncClass();</span><br><span class="line">            <span class="comment">// 开始异步操作      </span></span><br><span class="line">                  IAsyncResult result = asyncClass.BeginDoWork(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">            <span class="comment">// 主线程执行其他操作    </span></span><br><span class="line">                    <span class="comment">// 等待异步操作完成并获取结果  </span></span><br><span class="line">                             <span class="built_in">int</span> res = asyncClass.EndDoWork(result);</span><br><span class="line">            <span class="comment">// 处理异步操作的结果        </span></span><br><span class="line">                Console.WriteLine(<span class="string">&quot;Result: &quot;</span> + res);</span><br><span class="line">            Console.ReadLine();  </span><br><span class="line">                  &#125; </span><br><span class="line">                     &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">MyAsyncClass</span>    &#123;  </span><br><span class="line">          <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span>        </span></span><br><span class="line">          <span class="comment"><span class="doctag">///</span> 异步执行的方法        </span></span><br><span class="line">          <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>        </span></span><br><span class="line">          <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;callback&quot;&gt;</span>callback<span class="doctag">&lt;/param&gt;</span>        </span></span><br><span class="line">          <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;state&quot;&gt;</span>state<span class="doctag">&lt;/param&gt;</span>        </span></span><br><span class="line">          <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span>        </span></span><br><span class="line">          <span class="function"><span class="keyword">public</span> IAsyncResult <span class="title">BeginDoWork</span>(<span class="params">AsyncCallback callback, <span class="built_in">object</span> state</span>)</span>        &#123;   </span><br><span class="line">                   <span class="comment">// 创建一个新的异步操作对象         </span></span><br><span class="line">                      MyAsyncResult result = <span class="keyword">new</span> MyAsyncResult(state);</span><br><span class="line">            <span class="comment">// 开始异步操作          </span></span><br><span class="line">              Thread thread = <span class="keyword">new</span> Thread(() =&gt;            </span><br><span class="line">              &#123;       </span><br><span class="line">                       <span class="keyword">try</span>                </span><br><span class="line">                       &#123;           </span><br><span class="line">                    <span class="comment">// 执行一些操作   </span></span><br><span class="line">                                                 <span class="built_in">int</span> res = <span class="number">1</span> + <span class="number">2</span>;</span><br><span class="line">                    <span class="comment">// 设置异步操作的结果     </span></span><br><span class="line">                                   result.Result = res;</span><br><span class="line">                    <span class="comment">// 触发回调函数            </span></span><br><span class="line">                            callback?.Invoke(result);      </span><br><span class="line">                                      &#125;             </span><br><span class="line">                                         <span class="keyword">catch</span> (Exception ex)                &#123;  </span><br><span class="line">                                                           <span class="comment">// 设置异步操作的异常    </span></span><br><span class="line">                                                                           result.Error = ex;</span><br><span class="line">                    <span class="comment">// 触发回调函数                    </span></span><br><span class="line">                    callback?.Invoke(result);                </span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;);            </span><br><span class="line">            thread.Start();</span><br><span class="line">            <span class="comment">// 返回异步操作对象            </span></span><br><span class="line">            <span class="keyword">return</span> result;        </span><br><span class="line">            &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 结束异步执行的方法        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;result&quot;&gt;</span>result<span class="doctag">&lt;/param&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span>        </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">EndDoWork</span>(<span class="params">IAsyncResult result</span>)</span>        </span><br><span class="line">        &#123;            </span><br><span class="line">        <span class="comment">// 将 IAsyncResult 转换为 MyAsyncResult 类型，并等待异步操作完成            </span></span><br><span class="line">        MyAsyncResult myResult = (MyAsyncResult)result;            </span><br><span class="line">        myResult.AsyncWaitHandle.WaitOne();</span><br><span class="line">            <span class="comment">// 在异步操作中抛出异常            </span></span><br><span class="line">            <span class="keyword">if</span> (myResult.Error != <span class="literal">null</span>)            </span><br><span class="line">            &#123;                <span class="keyword">throw</span> myResult.Error;            &#125;</span><br><span class="line">            <span class="comment">// 返回异步操作的结果            </span></span><br><span class="line">            <span class="keyword">return</span> myResult.Result;        </span><br><span class="line">            &#125;    </span><br><span class="line">            &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">MyAsyncResult</span> : <span class="title">IAsyncResult</span>    &#123;        </span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> IsCompleted =&gt; AsyncWaitHandle.WaitOne(<span class="number">0</span>);        </span><br><span class="line">    <span class="keyword">public</span> WaitHandle AsyncWaitHandle &#123; <span class="keyword">get</span>; &#125; = <span class="keyword">new</span> ManualResetEvent(<span class="literal">false</span>);        </span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">object</span> AsyncState &#123; <span class="keyword">get</span>; &#125;        </span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span> CompletedSynchronously =&gt; <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Result &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 存储异步操作的结果或异常信息        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>        </span></span><br><span class="line">        <span class="keyword">public</span> Exception Error &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 构造函数        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;asyncState&quot;&gt;</span>asyncState<span class="doctag">&lt;/param&gt;</span>        </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MyAsyncResult</span>(<span class="params"><span class="built_in">object</span> asyncState</span>)</span>        </span><br><span class="line">        &#123;            </span><br><span class="line">        AsyncState = asyncState;        </span><br><span class="line">        &#125;    </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="4、Event-based-Asynchronous-Pattern（EAP模式）"><a href="#4、Event-based-Asynchronous-Pattern（EAP模式）" class="headerlink" title="4、Event-based Asynchronous Pattern（EAP模式）"></a>4、Event-based Asynchronous Pattern（EAP模式）</h3><p>一种已过时的异步编程模式，需要使用事件来实现异步编程。例如：</p><p>需要注意的是，EAP 模式通过事件来实现异步编程，相对于 APM 模式更加简洁易懂，同时也避免了手动处理回调函数等细节工作。但是，EAP 模式并不支持 async&#x2F;await 异步关键字，因此在一些特定的场景下可能不够灵活。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyAsyncClass</span> : <span class="title">Component</span>    </span><br><span class="line">&#123;        </span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span>        </span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> 声明一个委托类型，用于定义异步操作的方法签名        </span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>        </span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;arg&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span>        </span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span>        </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">MyAsyncDelegate</span>(<span class="params"><span class="built_in">int</span> arg</span>)</span>;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 声明一个事件，用于通知异步操作的完成        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>        </span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">event</span> MyAsyncDelegate OperationNameCompleted;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 异步执行方法，接受一个参数 arg        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;arg&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span>        </span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">DoWorkAsync</span>(<span class="params"><span class="built_in">int</span> arg</span>)</span>        </span><br><span class="line">        &#123;            </span><br><span class="line">        <span class="comment">// 将异步操作放入线程池中执行            </span></span><br><span class="line">        ThreadPool.QueueUserWorkItem(<span class="keyword">new</span> WaitCallback(DoWork), arg);        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> 真正的异步操作        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span>        </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;obj&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span>        </span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">DoWork</span>(<span class="params"><span class="built_in">object</span> obj</span>)</span>        </span><br><span class="line">        &#123;            </span><br><span class="line">        <span class="built_in">int</span> arg = (<span class="built_in">int</span>)obj;            </span><br><span class="line">        <span class="built_in">int</span> res = arg + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// 触发事件，传递异步操作的结果            </span></span><br><span class="line">            OperationNameCompleted?.Invoke(res);        </span><br><span class="line">            &#125;    </span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>以上就是C#实现异步的常用方式总结的详细内容。欢迎留言讨论！</p><blockquote><p>版权声明：本文来源于网友收集或网友供稿，仅供学习交流之用，如果有侵权，请转告小编或者留言，本站立即删除。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;微信群里的一个提问引发的这个问题，C#异步有多少种实现方式？首先想要知道C#异步有多少中实现方式，首先我们要知道.NET提供的执行异步操作的三种模式，然后再去了解C#异步实现的方式。&lt;/p&gt;
&lt;h2 id=&quot;NET异步编程模式&quot;&gt;&lt;a href=&quot;#NET异步编程模式&quot; c</summary>
      
    
    
    
    <category term="后端开发" scheme="https://www.codeobservatory.cn/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="C#" scheme="https://www.codeobservatory.cn/tags/C/"/>
    
    <category term="异步" scheme="https://www.codeobservatory.cn/tags/%E5%BC%82%E6%AD%A5/"/>
    
  </entry>
  
</feed>
